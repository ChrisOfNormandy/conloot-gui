(this["webpackJsonpconloot-gui"]=this["webpackJsonpconloot-gui"]||[]).push([[0],[,function(e){e.exports=JSON.parse('{"tags":[{"from":"example.examplemod","to":"%org_name%.%mod_name_lc%"},{"from":"examplemod","to":"%mod_name_lc%"},{"from":"ExampleMod","to":"%mod_name%"},{"from":"ExampleMod()","to":"%mod_name%()"}],"Main.java":{"imports":["import net.minecraft.block.Block;","import net.minecraftforge.common.MinecraftForge;","import net.minecraftforge.event.RegistryEvent;","import net.minecraftforge.eventbus.api.SubscribeEvent;","import net.minecraftforge.fml.common.Mod;","import org.apache.logging.log4j.LogManager;","import org.apache.logging.log4j.Logger;\\n","import com.github.chrisofnormandy.conlib.registry.ModRegister;\\n"],"preConstructorBody":["%tab_1%public static String MOD_ID = \\"%mod_name_lc%\\";","%tab_1%// public static ModConfigs config = new ModConfigs();"],"constructorBody":["%tab_2%ModRegister.Init(MOD_ID);","%tab_2%// config.Init();","%tab_2%// ModUIs.Init();","%tab_2%MinecraftForge.EVENT_BUS.register(this);"],"blockRegistry":{"front":"LOGGER.info(\\"HELLO from Register Block\\");\\n","code":"%tab_3%ModBlocks.Init();\\n"}},"build.gradle":{"repositories":{"tag":"apply plugin: \'maven-publish\'","data":["\\n\\nrepositories{","%tab_1%maven {","%tab_2%url \\"%lib_repo_url%\\"","%tab_1%}","}"]},"dependencies":{"tag":"// You may put jars on which you depend on in ./libs or you may define them like so..","data":"\\n%tab_1%implementation \'com.github.chrisofnormandy:conlib:%lib_version%:deobf\'\\n"},"group":{"from":"com.yourname.modid","to":"com.%org_name%.%mod_name_lc%"},"archivesBaseName":{"from":"archivesBaseName = \'modid\'","to":"archivesBaseName = \'%mod_name_lc%\'"},"Specification-Title":{"from":"\\"Specification-Title\\": \\"examplemod\\"","to":"\\"Specification-Title\\": \\"%mod_name_lc%\\""},"Specification-Vendor":{"from":"\\"Specification-Vendor\\": \\"examplemodsareus\\"","to":"\\"Specification-Vendor\\": \\"%org_name%\\""},"Implementation-Vendor":{"from":"\\"Implementation-Vendor\\" :\\"examplemodsareus\\"","to":"\\"Implementation-Vendor\\" :\\"%org_name%\\""},"reobf":{"from":"jar.finalizedBy(\'reobfJar\')","to":"publish.dependsOn(\'reobfJar\')"}},"packMcMeta":[{"from":"examplemod","to":"%mod_name%"}],"modsToml":[{"from":"modId=\\"examplemod\\"","to":"modId=\\"%mod_name_lc%\\""},{"from":"displayName=\\"Example Mod\\"","to":"displayName=\\"%mod_name%\\""},{"from":"logoFile=\\"examplemod.png\\"","to":"logoFile=\\"%mod_name_lc%.png\\""},{"from":"dependencies.examplemod","to":"dependencies.%mod_name_lc%"},{"from":"dependencies.examplemod","to":"dependencies.%mod_name_lc%"}],"modsTomlDependency":["[[dependencies.%mod_name_lc%]]","%tab_1%modId=\\"conlib\\"","%tab_1%mandatory=true","%tab_1%versionRange=\\"[1,)\\"","%tab_1%ordering=\\"AFTER\\"","%tab_1%side=\\"BOTH\\""],"ModBlocks.java":{"data":["package com.%org_name%.%mod_name_lc%;\\n","import com.github.chrisofnormandy.conlib.block.generic.Standard;\\n","import net.minecraft.block.Blocks;","import net.minecraft.block.AbstractBlock.Properties;","import net.minecraft.item.ItemGroup;","","public class ModBlocks","{","%tab_1%public static void Init() {","%tab_2%// ##MB_TAG##","%tab_1%}","}"]}}')},,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var i={};n.r(i),n.d(i,"create",(function(){return ge}));var a=n(2),o=n.n(a),r=n(19),c=n.n(r),s=n(3),l=n(6),u=n(7),d=n(5),h=n(4);n(28),n(29);function m(e,t,n){if(n.length>=0)return function(e,t){return"".concat(e," = [").concat(t.join(", "),"]\n")}(t,n);var i="".concat(null===e?"":"".concat(e,".")).concat(null!==t?t.includes(" ")?'"'.concat(t,'"'):t:""),a=null===t?"":"[".concat(i,"]\n");for(var o in n)a+=m(null!==t?i:null,o,n[o]);return a}function f(e){return m(null,null,e)}var p=n(0),b=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={values:[],fields:[],checkboxes:["all","block","slab","stairs","wall","fence"]},i.updateName=i.updateName.bind(Object(u.a)(i)),i.updateMaterial=i.updateMaterial.bind(Object(u.a)(i)),i.handleSubmit=i.handleSubmit.bind(Object(u.a)(i)),i.checkBox=i.checkBox.bind(Object(u.a)(i)),i.checkRow=i.checkRow.bind(Object(u.a)(i)),i}return Object(l.a)(n,[{key:"updateName",value:function(e){var t=this.state.values,n=e.target.name.match(/(\d+)/)[1];t[n]||(t[n]={}),t[n].name=e.target.value;var i=this.state;i.values=t,this.setState(i)}},{key:"updateMaterial",value:function(e){var t=this.state.values,n=e.target.name.match(/(\d+)/)[1];t[n]||(t[n]={}),t[n].material=e.target.value;var i=this.state;i.values=t,this.setState(i)}},{key:"addInput",value:function(){this.fields.push({key:this.fields.length,value:"",placeholder:"my_block_".concat(this.fields.length)});var e=this.state.values;e.push({});var t=this.state;t.values=e,this.setState(t)}},{key:"removeInput",value:function(){this.fields.splice(-1,1);var e=this.state.values;e.splice(-1,1);var t=this.state;t.values=e,this.setState(t)}},{key:"handleSubmit",value:function(e){var t={},n={Blocks:{Suite:{"String Lists":{wood_suite_list:[],stone_suite_list:[]}},Redstone:{"String Lists":{fence_gate_list:[],door_list:[],trapdoor_list:[]}},Generic:{"String Lists":{slab_list:[],wall_list:[],block_list:[],stairs_list:[],fence_list:[]}},Interactive:{"String Lists":{barrel_list:[],shulker_list:[]}}},UI:{ItemGroups:{"String Lists":{tabs:[]}}},Items:{Tool:{"String Lists":{pickaxe_list:[],axe_list:[],hoe_list:[],shovel_list:[]}}},Resources:{Ores:{"String Lists":{gem_list:[],metal_list:[]}},Plants:{"String Lists":{crop_list:[]}}},WorldGen:{Biomes:{"String Lists":{biome_list:[]}}}};this.state.values.forEach((function(e,i){t[e.name]||(t[e.name]=e,e.all?"wood"===e.material?n.Blocks.Suite["String Lists"].wood_suite_list.push('"'.concat(e.name,'"')):n.Blocks.Suite["String Lists"].stone_suite_list.push('"'.concat(e.name,'"')):(e.block&&n.Blocks.Generic["String Lists"].block_list.push('"'.concat(e.name,'"')),e.slab&&n.Blocks.Generic["String Lists"].slab_list.push('"'.concat(e.name,'"')),e.stairs&&n.Blocks.Generic["String Lists"].stairs_list.push('"'.concat(e.name,'"')),e.wall&&n.Blocks.Generic["String Lists"].wall_list.push('"'.concat(e.name,'"')),e.fence&&n.Blocks.Generic["String Lists"].fence_list.push('"'.concat(e.name,'"'))))})),alert("A name was submitted: "+JSON.stringify(t)),e.preventDefault(),function(e){var t=new Blob([f(e)],{type:"application/toml"}),n=window.URL.createObjectURL(t),i=document.getElementById("download_link");i.href=n,i.setAttribute("download","conloot.toml"),i.click()}(n)}},{key:"checkRow",value:function(e){this.checkboxes.map((function(t){return document.getElementById("".concat(e,"_cb_").concat(t)).checked=!0}))}},{key:"checkBox",value:function(e){var t=e.target.name.match(/(\d+)_cb_(\w+)/),n=t[1],i=t[2],a=this.state.values;if(a[n]||(a[n]={}),"all"===i&&e.target.checked){this.checkRow(n);for(var o=1;o<this.checkboxes.length;o++)a[n][this.checkboxes[o]]=!0}a[n][i]=e.target.checked;var r=this.state;r.values=a,this.setState(r)}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"config-gui-container",children:[Object(p.jsx)("h1",{children:"Config Generator"}),Object(p.jsxs)("div",{className:"form-container",children:[Object(p.jsx)("a",{id:"download_link",href:"/file.txt",download:!0,style:{display:"none"},children:"_"}),Object(p.jsxs)("form",{className:"form-body",onSubmit:this.handleSubmit,children:[Object(p.jsx)("ul",{className:"form-input-list",children:this.state.fields.map((function(t){return Object(p.jsxs)("li",{className:"form-input-list-item",children:[Object(p.jsxs)("label",{htmlFor:t.key,children:["Block ",t.key+1]}),Object(p.jsx)("input",{className:"form-input",name:"".concat(t.key,"_content"),defaultValue:t.value,placeholder:t.placeholder,onChange:e.updateName,required:!0,onKeyPress:function(e){null===e.key.match(/[a-zA-Z_0-9]/)&&e.preventDefault()}},t.key),Object(p.jsx)("input",{className:"form-input",name:"".concat(t.key,"_material"),defaultValue:"",placeholder:"stone | wood | etc...",onChange:e.updateMaterial},"".concat(t.key,"_material")),Object(p.jsx)("div",{className:"form-checkbox-container",children:e.checkboxes.map((function(n){return Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{htmlFor:"".concat(t.key,"_rb_").concat(n),children:"".concat(n)}),Object(p.jsx)("input",{className:"form-input-checkbox",id:"".concat(t.key,"_cb_").concat(n),name:"".concat(t.key,"_cb_").concat(n),type:"checkbox",onChange:e.checkBox},"".concat(t.key,"_cb_").concat(n))]},"checkbox_group_".concat(n))}))})]},t.key)}))}),Object(p.jsx)("input",{className:"form-input-submit",type:"submit",value:"Submit"})]}),Object(p.jsxs)("div",{className:"form-button-container",children:[Object(p.jsx)("div",{className:"form-button",onClick:function(t){e.addInput(t)},children:"Add"}),Object(p.jsx)("div",{className:"form-button",onClick:function(t){e.removeInput(t)},children:"Remove"})]})]})]})}}]),n}(o.a.Component),v=n(9),g={position:{x:0,y:0,old:{x:0,y:0},document:{x:0,y:0}},button:{state:!1,id:0,origin:{x:null,y:null}},displacement:function(){return{x:null===g.position.old.x?0:g.position.x-g.position.old.x,y:null===g.position.old.y?0:g.position.y-g.position.old.y}},getPosition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?{x:g.position.x,y:g.position.y}:{x:g.position.x-e.x,y:g.position.y-e.y}},inBounds:!1,moving:!1,clicked:!1},y=g;function x(e){var t=Number(e).toString(16);return 1===t.length?"0".concat(t):t}function j(e){return parseInt(e,16)}function _(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Number("0x".concat(x(e)).concat(x(t)).concat(x(n)).concat(null!==i?x(i):""))}function k(e){return _(e.r,e.g,e.b)}function O(e,t,n){return Math.floor(t*n+e*(1-n))}function w(e,t){return 0===e.a?t:0!==t.a&&t?{r:O(e.r,t.r,t.a/255),g:O(e.g,t.g,t.a/255),b:O(e.b,t.b,t.a/255),a:e.a+t.a>255?255:e.a+t.a}:e}var C=function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(s.a)(this,e),this.visable=!0,this.opacity=255,this.pixels=[],this.clear=function(){n.pixels.forEach((function(e){return n.setPixel(e.x,e.y,null)}))},this.getPixel=function(e,t){return n.visable?n.pixels[t*n.resolution+e]?n.pixels[t*n.resolution+e]:null:{x:e,y:t,changed:n.pixels[t*n.resolution+e].changed,color:{r:0,g:0,b:0,a:0}}},this.toggle=function(){n.visable=!n.visable,n.editor.refresh=!0},this.updatePixel=function(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=n.getPixel(e,t);return null===r||r.changed&&!a?null:(null===o?(r.color=null===i?{r:0,g:0,b:0,a:0}:w(r.color,i),r.changed=!0):r.color.a=r.color.a/255*o,r)},this.setPixel=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n.pixels[t*n.resolution+e]={color:null===i?{r:0,g:0,b:0,a:0}:i,x:e,y:t,changed:!1},n.pixels[t*n.resolution+e]},this.editor=t,this.resolution=t.resolution,null===i){var a=this.editor.layers.cache.map((function(e){return e.name}));if(a.length){var o=1;for(this.name="Layer ".concat(o);a.includes(this.name);)this.name="Layer ".concat(o),o++}else this.name="Layer 1"}else this.name=i;for(var r=0;r<t.resolution;r++)for(var c=0;c<t.resolution;c++)this.setPixel(r,c)};var N=v.d.shared,S=v.c,B={app:null,display:{backgroundGroup:new v.b,imageGroup:new v.b,gridGroup:new v.b},resolution:0,refresh:!1,width:0,height:0,scale:0,debug:{enabled:!0,element:document.getElementById("debug"),update:function(){var e=y.getPosition(),t=Math.floor(e.x/B.scale),n=Math.floor(e.y/B.scale);B.image.pixels[n*B.resolution+t]&&(B.debug.element.innerHTML="Mouse: ".concat(JSON.stringify(e)," --\x3e ").concat(t,", ").concat(n,"<br />")+" - ".concat(JSON.stringify(y.position.document),"<br />")+" - ".concat(B.scale,"<br />")+"Brush:<br />"+" - Pos: ".concat(B.brush.cursor.position.x,", ").concat(B.brush.cursor.position.y," --\x3e ").concat(B.brush.cursor.position.x+B.brush.size-1,", ").concat(B.brush.cursor.position.y+B.brush.size-1,"<br />")+" - Style: ".concat(B.brush.style,"<br />")+"Cursor: ".concat(JSON.stringify(B.brush.cursor.position),"<br />")+"Zoom: ".concat(B.zoomSettings.width,", ").concat(B.zoomSettings.height," | ").concat(B.zoomSettings.value,"<br />")+" - ".concat(JSON.stringify(B.zoomSettings.offset)))}},offset:{x:0,y:0,dx:0,dy:0},zoomSettings:{scale:0,width:0,height:0,offset:{x:0,y:0},value:0},brush:{style:"pencil",fill:{r:0,g:0,b:0,a:255},size:1,mousePos:null,cursor:{position:{x:0,y:0,old:{x:0,y:0}},graphic:null,focus:null},preview:null,getStyle:function(){return B.brush.style},setStyle:function(e){switch(e){case"eraser":B.brush.cursor.graphic.tint=16777215,B.brush.cursor.graphic.alpha=1;break;case"fill":case"color-picker":B.brush.cursor.graphic.alpha=0;break;default:B.brush.cursor.graphic.tint=_(B.brush.fill.r,B.brush.fill.g,B.brush.fill.b),B.brush.cursor.graphic.alpha=B.brush.fill.a/255}B.brush.style=e},getColor:function(){return{r:B.brush.fill.r,g:B.brush.fill.g,b:B.brush.fill.b,a:B.brush.fill.a}},setColor:function(e){B.brush.cursor.graphic.tint=_(e.r,e.g,e.b),B.brush.cursor.graphic.alpha=e.a/255,B.brush.fill=e},getSize:function(){return B.brush.size},setSize:function(e){B.brush.size=e},updateCursor:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];B.brush.mousePos=y.getPosition(),B.brush.mousePos.x-=B.zoomSettings.offset.x+B.offset.x,B.brush.mousePos.y-=B.zoomSettings.offset.y+B.offset.y,B.brush.cursor.position.old.x=B.brush.cursor.position.x,B.brush.cursor.position.old.y=B.brush.cursor.position.y,B.brush.cursor.position.x=Math.floor((B.brush.mousePos.x-(B.brush.size-1)/2*B.scale)/B.scale),B.brush.cursor.position.y=Math.floor((B.brush.mousePos.y-(B.brush.size-1)/2*B.scale)/B.scale),B.brush.cursor.position.old.x===B.brush.cursor.position.x&&B.brush.cursor.position.old.y===B.brush.cursor.position.y||(B.brush.cursor.graphic.x=B.brush.cursor.position.x*B.scale+B.zoomSettings.offset.x+B.offset.x,B.brush.cursor.graphic.y=B.brush.cursor.position.y*B.scale+B.zoomSettings.offset.y+B.offset.y),e&&(B.brush.cursor.graphic.tint=_(B.brush.fill.r,B.brush.fill.g,B.brush.fill.b),B.brush.cursor.graphic.alpha=B.brush.fill.a/255),t&&(B.brush.cursor.graphic.width=B.scale*B.brush.size,B.brush.cursor.graphic.height=B.scale*B.brush.size)}},layers:{cache:[],active:0,get:function(e){return B.layers.cache[e]},getActive:function(){return B.layers.cache[B.layers.active]},add:function(){var e=B.layers.cache.length,t=new C(E);return B.layers.cache.push(t),B.layers.active=e,t},remove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return B.layers.cache.splice(e,1),B.layers.reload(),B.layers},move:function(e,t){var n=B.layers.cache.splice(e,1)[0];return B.layers.cache.splice(t,0,n),B.layers.reload(),n},clear:function(){B.layers.cache=[]},toggle:function(e){B.layers.cache[e].visable=!B.layers.cache[e].visable,B.layers.reload()},reload:function(){B.refresh=!0}},bounds:{doUpdate:!1,value:null,update:function(){return B.bounds.value=B.app.view.getBoundingClientRect(),B.bounds.doUpdate=!1,B.bounds.value}},startup:function(){return B.onReady((function(){return B.app.ticker.add((function(){return B.draw()}))})),B.app.view},onReady:function(e){console.log("App ready. Loading."),N.load(e)},grid:{enabled:!1,show:function(){B.app.stage.removeChild(B.display.gridGroup),B.app.stage.addChild(B.display.gridGroup)},toggle:function(){return B.grid.enabled=!B.grid.enabled,B.grid.enabled?B.app.stage.addChild(B.display.gridGroup):B.app.stage.removeChild(B.display.gridGroup),B.grid.enabled}},draw:function(){if(null!==B.debug.element){if(B.debug.enabled?(B.debug.element.classList.contains("hidden")&&B.debug.element.classList.remove("hidden"),B.debug.update()):B.debug.element.classList.contains("hidden")||B.debug.element.classList.add("hidden"),B.refresh)return B.image.pixels.forEach((function(e){B.image.updatePixel(e.x,e.y),B.app.stage.removeChild(e.graphic),B.app.stage.addChild(e.graphic)})),B.app.stage.removeChild(B.brush.cursor.graphic),B.app.stage.addChild(B.brush.cursor.graphic),B.grid.enabled&&B.grid.show(),void(B.refresh=!1);B.image.buffer.forEach((function(e,t){B.image.updatePixel(e.x,e.y),e.changed?y.button.state||(e.changed=!1):B.image.buffer.splice(t,1)})),B.brush.updateCursor();var e,t,n,i,a,o,r=B.layers.getActive();if(r)if(y.clicked)switch(B.brush.style){case"fill":var c={x:B.brush.cursor.position.x,y:B.brush.cursor.position.y},s={color:r.getPixel(c.x,c.y).color};t=B.brush.getColor(),n=!1,i=null;var l=[];!function a(o){var c=r.getPixel(o.x,o.y);null===c||!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return Math.abs(e.r-t.r)<=n&&Math.abs(e.g-t.g)<=n&&Math.abs(e.b-t.b)<=n&&Math.abs(e.a-t.a)<=n}(c.color,s.color)||o.x<0||o.y>=B.resolution||o.y<0||o.y>=B.resolution||null!==(e=l.includes(o)?null:r.updatePixel(o.x,o.y,t,n,i))&&(B.image.buffer.push(e),l.push(o),a({x:o.x-1,y:o.y}),a({x:o.x+1,y:o.y}),a({x:o.x,y:o.y-1}),a({x:o.x,y:o.y+1}))}(c);break;case"color-picker":var u=r.getPixel(B.brush.cursor.position.x,B.brush.cursor.position.y).color;B.brush.setColor(u),B.brush.preview.update(),B.brush.updateCursor(!0)}else if(y.button.state&&0===y.button.id)switch(B.brush.style){case"fill":case"color-picker":break;default:for(var d=B.brush.cursor.position.x<0?0:B.brush.cursor.position.x;d<B.brush.cursor.position.x+B.brush.size&&d<B.resolution;d++)for(var h=B.brush.cursor.position.y<0?0:B.brush.cursor.position.y;h<B.brush.cursor.position.y+B.brush.size&&h<B.resolution;h++){switch(B.brush.style){case"paint":(t=B.brush.getColor()).a=B.brush.fill.a/255*Math.floor(255*(1-(a={x:B.brush.cursor.position.x+Math.floor(B.brush.size/2),y:B.brush.cursor.position.y+Math.floor(B.brush.size/2)},o={x:d,y:h},(Math.abs(o.x-a.x)+Math.abs(o.y-a.y))/Math.round(B.brush.size/2)))),t.a<0&&(t.a=0),n=B.brush.cursor.position.old.x!==B.brush.cursor.position.x||B.brush.cursor.position.old.y!==B.brush.cursor.position.y,i=null;break;case"eraser":t=null,n=B.brush.cursor.position.old.x!==B.brush.cursor.position.x||B.brush.cursor.position.old.y!==B.brush.cursor.position.y,i=0;break;default:t=B.brush.getColor(),n=!1,i=null}null!==(e=r.updatePixel(d,h,t,n,i))&&B.image.buffer.push(e)}}y.inBounds||(y.button.state=!1),y.clicked=!1}else B.debug.element=document.getElementById("debug")},image:{pixels:[],buffer:[],setPixel:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return B.image.pixels[t*B.resolution+e]={graphic:new S,color:null===n?{r:0,g:0,b:0,a:0}:n,changed:!1,x:e,y:t},B.image.pixels[t*B.resolution+e].graphic.beginFill(16777215),B.image.pixels[t*B.resolution+e].graphic.drawRect(0,0,B.scale,B.scale),B.image.pixels[t*B.resolution+e].graphic.endFill(),B.image.pixels[t*B.resolution+e].graphic.tint=k(B.image.pixels[t*B.resolution+e].color),B.image.pixels[t*B.resolution+e].graphic.alpha=B.image.pixels[t*B.resolution+e].color.a/255,B.image.pixels[t*B.resolution+e].graphic.x=e*B.scale,B.image.pixels[t*B.resolution+e].graphic.y=t*B.scale,B.image.pixels[t*B.resolution+e]},getPixel:function(e,t){return B.image.pixels[t*B.resolution+e]||null},updatePixel:function(e,t){B.image.pixels[t*B.resolution+e]||B.image.setPixel(e,t);var n=null;B.layers.cache.forEach((function(i){if(i.visable){var a=i.getPixel(e,t).color;0!==a.a&&(n=null===n?a:w(a,n))}})),B.image.pixels[t*B.resolution+e].color=n||{r:0,g:0,b:0,a:0},B.image.pixels[t*B.resolution+e].graphic.tint=k(B.image.pixels[t*B.resolution+e].color),B.image.pixels[t*B.resolution+e].graphic.alpha=B.image.pixels[t*B.resolution+e].color.a/255},compose:function(){var e=document.createElement("canvas"),t=e.getContext("2d");e.width=B.resolution,e.height=B.resolution;for(var n,i=t.createImageData(B.resolution,B.resolution),a=0;a<B.resolution;a++)for(var o=0;o<B.resolution;o++){var r=4*(o*B.resolution+a);n=B.image.getPixel(a,o).color,i.data[r]=n.r,i.data[r+1]=n.g,i.data[r+2]=n.b,i.data[r+3]=n.a}t.putImageData(i,0,0);var c=e.toDataURL("image/png"),s=document.createElement("a");s.href=c;var l=document.getElementById("image_name").value;s.setAttribute("download","".concat(l||"texture",".png")),s.click()},clear:function(){B.layers.cache.forEach((function(e){return e.clear()})),B.refresh=!0}},zoom:function(e){if(!(e&&B.zoomSettings.scale<=-9||!e&&B.zoomSettings.scale>=20)){for(var t in B.zoomSettings.scale+=e?-1:1,B.zoomSettings.value=B.zoomSettings.scale<0?(10+B.zoomSettings.scale)/10:1+B.zoomSettings.scale/10,B.zoomSettings.width=(B.app.view.width<B.app.view.height?B.app.view.width:B.app.view.height)*B.zoomSettings.value,B.zoomSettings.height=B.zoomSettings.width,B.zoomSettings.offset.x=(B.app.view.width-B.zoomSettings.width)/2,B.zoomSettings.offset.y=(B.app.view.height-B.zoomSettings.height)/2,B.display)B.display[t].width=B.zoomSettings.width,B.display[t].height=B.zoomSettings.height,B.display[t].x=B.zoomSettings.offset.x,B.display[t].y=B.zoomSettings.offset.y;B.scale=(B.display.imageGroup.width<B.display.imageGroup.height?B.display.imageGroup.width:B.display.imageGroup.height)/B.resolution,B.scale*=B.zoomSettings.value,B.brush.updateCursor(!1,!0)}},create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;if(null!==B.app)for(;B.app.stage.children[0];)B.app.stage.removeChild(B.app.stage.children[0]);B.app=e,B.resolution=t,B.width=e.view.width,B.height=e.view.height,B.scale=(B.width<B.height?B.width:B.height)/B.resolution,B.image.pixels=[],B.layers.clear(),B.layers.add(),B.brush.cursor.graphic=new S,B.brush.cursor.graphic.beginFill(16777215),B.brush.cursor.graphic.drawRect(0,0,B.scale,B.scale),B.brush.cursor.graphic.endFill();for(var n,i=B.layers.get(B.layers.active),a=0;a<B.resolution;a++){for(var o=0;o<B.resolution;o++){(n=new S).beginFill(16777215),n.drawRect(0,0,B.scale,B.scale),n.endFill(),n.tint=a%2===0&&o%2===1||a%2===1&&o%2===0?16777215:14540253,n.x=a*B.scale,n.y=o*B.scale,B.display.backgroundGroup.addChild(n),B.display.imageGroup.addChild(B.image.setPixel(a,o).graphic),i.setPixel(a,o,B.image.pixels[o*B.resolution+a].color);var r=new v.c;r.lineStyle(1,0,1),r.moveTo(0,o*B.scale),r.lineTo(B.resolution*B.scale,o*B.scale),B.display.gridGroup.addChild(r)}var c=new v.c;c.lineStyle(1,0,1),c.moveTo(a*B.scale,0),c.lineTo(a*B.scale,B.resolution*B.scale),B.display.gridGroup.addChild(c)}for(var s in B.offset.x=B.width/2-B.resolution*B.scale/2,B.offset.y=B.height/2-B.resolution*B.scale/2,B.display)B.display[s].x=B.offset.x,B.display[s].y=B.offset.y;return B.brush.updateCursor(!0,!0),B.app.stage.addChild(B.display.backgroundGroup,B.display.imageGroup),B.app.stage.addChild(B.brush.cursor.graphic),B.zoom(!0),B}},E=B;var M=function(e){return Object(p.jsx)("div",{id:e.id,className:"menu".concat(e.hidden?" hidden":""),children:e.content.map((function(e,t){return Object(p.jsx)("div",{className:"menu-item",children:e},t)}))})},L=(n(38),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={editor:e.editor,content:[{key:"File",id:"file_menu",value:Object(p.jsx)(M,{content:[Object(p.jsx)("div",{className:"menu-button",onClick:function(){return i.state.editor.image.compose()},children:"Download"}),Object(p.jsx)("div",{className:"menu-break"}),Object(p.jsxs)("div",{className:"menu-button",children:[Object(p.jsx)("label",{id:"debug_check_label",htmlFor:"debug-check",children:"Debug"}),Object(p.jsx)("input",{name:"debug-check",type:"checkbox",onChange:function(e){var t=i.state;t.editor.debug.enabled=e.target.checked,i.setState(t)}})]})],id:"file_menu",hidden:!0})},{key:"Edit",id:"edit_menu",value:Object(p.jsx)(M,{content:[Object(p.jsx)("div",{className:"menu-button",onClick:function(){return i.state.editor.image.clear()},children:"Clear"})],id:"edit_menu",hidden:!0})},{key:"View",id:"view_menu",value:Object(p.jsx)(M,{content:[Object(p.jsx)("div",{className:"menu-button",onClick:function(){i.state.editor.grid.toggle()},children:"Toggle Grid"})],id:"view_menu",hidden:!0})}]},i.setResolution=i.setResolution.bind(Object(u.a)(i)),i}return Object(l.a)(n,[{key:"setResolution",value:function(e){e.preventDefault();var t=Number(document.getElementById("resolution_input").value);if(!isNaN(t)){var n=this.state;t%16===0&&t>0&&t<=128&&(n.editor=n.editor.create(this.editor.app,t)),this.setState(n)}}},{key:"componentDidMount",value:function(){var e=[];this.state.content.forEach((function(t){return e.push(document.getElementById(t.id))})),document.addEventListener("click",(function(t){e.forEach((function(e){e.parentElement.contains(t.target)||e.classList.add("hidden")}))}))}},{key:"render",value:function(){return Object(p.jsx)("div",{className:"texture-editor-ribbon",children:this.state.content.map((function(e){return Object(p.jsxs)("div",{className:"ribbon-menu",children:[Object(p.jsx)("div",{className:"ribbon-menu-button",onClick:function(){document.getElementById(e.id).classList.toggle("hidden")},children:e.key}),e.value]},e.key)}))})}}]),n}(o.a.Component));n(39),n(40);function F(e){return e.content()}var I=function(e){var t=e.id,n=e.content,i=null,a=document.getElementById(t);return Object(p.jsx)("div",{className:"floater-container",id:t,onMouseDown:function(e){var t=a.getBoundingClientRect(),n=e.clientX-t.x,o=e.clientY-t.y;o>16||(i={x:n,y:o})},onMouseUp:function(){i=null},onMouseMove:function(e){return function(e,t,n){if(null!==t){var i=e.clientX-t.x,a=e.clientY-t.y,o=n.getBoundingClientRect(),r=n.parentElement.getBoundingClientRect();i>r.left&&i+o.width<r.right&&(n.style.left="".concat(i,"px")),a>r.top&&a+o.height<r.bottom&&(n.style.top="".concat(a,"px"))}}(e,i,a)},children:Object(p.jsx)(F,{content:n})})},D=n.p+"static/media/pencil.e99a4c16.svg",z=[{key:"pencil",icon:D},{key:"paint",icon:n.p+"static/media/paintbrush.f6d07354.svg"},{key:"eraser",icon:n.p+"static/media/eraser.4da23591.svg"},{key:"fill",icon:D},{key:"color-picker",icon:D}],P=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={editor:null,brush:null},i.content=function(){return Object(p.jsx)("div",{className:"brushes-container",children:z.map((function(e){return Object(p.jsx)("img",{src:e.icon,className:"brush-icon".concat(i.state.brush.getStyle()===e.key?" brush-selected":""),id:"".concat(e.key,"_brush"),alt:e.key,onClick:function(){var t=i.state.brush.getStyle();document.getElementById("".concat(t,"_brush")).classList.remove("brush-selected"),i.state.brush.setStyle(e.key),document.getElementById("".concat(e.key,"_brush")).classList.add("brush-selected")}},e.key)}))})},i.render=function(){return Object(p.jsx)(I,{id:"brushes_container",content:i.content})},i.state.editor=e.editor,i.state.brush=e.editor.brush,i}return n}(o.a.Component);n(41),n(42);var R=function(e){if(null===e)return console.error("Collapsable div was null.");e.style.maxHeight=e.style.maxHeight?null:e.scrollHeight+"px"};function T(e){return e.content()}var A=function(e){var t=e.id,n=e.content,i=document.getElementById(t);return Object(p.jsxs)("div",{className:"collapsable-container-wrapper",onLoad:function(){var e=document.getElementById(t);e.style.maxHeight=e.scrollHeight+"px"},children:[Object(p.jsx)("div",{className:"collapsable-container-group container-group",id:t,children:Object(p.jsx)(T,{content:n})}),Object(p.jsx)("div",{className:"collapsable-container-group-trigger",onClick:function(){R(i)}})]})},G=(n(43),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={brush:null},i.previewElem=null,i.container=null,i.updatePreview=function(){var e=i.state.brush.getColor();i.previewElem.style.backgroundColor="rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a/255,")")},i.updateRgb=function(){var e=i.state.brush.getColor();["r","g","b","a"].forEach((function(t){document.getElementById("rgb_".concat(t)).value=e[t],document.getElementById("rgb_".concat(t,"_slider")).value=e[t]}))},i.updateHex=function(){var e=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return"".concat(x(e)).concat(x(t)).concat(x(n)).concat(null!==i?x(i):"")}(document.getElementById("rgb_r").value,document.getElementById("rgb_g").value,document.getElementById("rgb_b").value,document.getElementById("rgb_a").value);document.getElementById("hex").value=e},i.fetchDisplayColor=function(){return{r:document.getElementById("rgb_r").value,g:document.getElementById("rgb_g").value,b:document.getElementById("rgb_b").value,a:document.getElementById("rgb_a").value}},i.refresh=function(){i.previewElem=document.getElementById("color_picker_preview"),i.container=document.getElementById("color_picker_controls_container")},i.update=function(){i.updateRgb(),i.updatePreview(),i.updateHex()},i.rgbControls=function(){return Object(p.jsxs)("div",{className:"rgb-container-wrapper",children:[["r","g","b","a"].map((function(e){return Object(p.jsxs)("div",{className:"rgb-input-container",children:[Object(p.jsx)("div",{htmlFor:"rgb_".concat(e),className:"rgb-input-label",children:e.toUpperCase()}),Object(p.jsx)("input",{name:"rgb_".concat(e,"_slider"),id:"rgb_".concat(e,"_slider"),type:"range",min:"0",max:"255",className:"rgb-input-slider",onChange:function(t){document.getElementById("rgb_".concat(e)).value=t.target.value,i.updateColor(i.fetchDisplayColor()),i.updatePreview(),i.updateHex()},defaultValue:"a"===e?255:0},"".concat(e,"_slider")),Object(p.jsx)("input",{name:"rgb_".concat(e),id:"rgb_".concat(e),type:"text",className:"rgb-input-field",placeholder:"0",onChange:function(e){i.updateColor(i.fetchDisplayColor()),i.updatePreview(),i.updateHex()},onKeyPress:function(e){e.key.match(/[0-9]/)||e.preventDefault()},defaultValue:"a"===e?255:""},e)]},"rgb_".concat(e,"_div"))})),Object(p.jsx)("input",{name:"hex",id:"hex",type:"text",className:"hex-input-field",placeholder:"000000ff",onChange:function(e){var t=function(e){switch(e.length){case 0:return{r:0,g:0,b:0,a:255};case 1:return{r:j(e),g:j(e),b:j(e),a:255};case 3:var t=e.split("");return{r:j("".concat(t[0]+t[0])),g:j("".concat(t[1]+t[1])),b:j("".concat(t[2]+t[2])),a:255};case 4:var n=e.split("");return{r:j("".concat(n[0]+n[0])),g:j("".concat(n[1]+n[1])),b:j("".concat(n[2]+n[2])),a:j("".concat(n[3]+n[3]))};case 6:var i=e.split("");return{r:j("".concat(i[0]+i[1])),g:j("".concat(i[2]+i[3])),b:j("".concat(i[4]+i[5]))};case 8:var a=e.split("");return{r:j("".concat(a[0]+a[1])),g:j("".concat(a[2]+a[3])),b:j("".concat(a[4]+a[5])),a:j("".concat(a[6]+a[7]))};default:return{r:0,g:0,b:0,a:255}}}(e.target.value);for(var n in t)document.getElementById("rgb_".concat(n)).value=t[n];i.updateColor(i.fetchDisplayColor()),i.updatePreview()},onKeyPress:function(e){(!e.key.match(/[0-9A-Fa-f]/)||e.target.value.length>=8)&&e.preventDefault()},defaultValue:"000000ff"})]})},i.render=function(){return Object(p.jsxs)("div",{className:"floater-group",children:[Object(p.jsxs)("div",{className:"container-group",id:"color_picker_preview_container",children:[Object(p.jsx)("div",{className:"color-picker-preview",id:"color_picker_preview"}),Object(p.jsx)("div",{className:"brush-size-preview",id:"brush_size_preview"}),Object(p.jsx)("input",{className:"brush-size-input",id:"brush_size_input",type:"text",defaultValue:1,onChange:function(e){i.state.brush.setSize(Number(e.target.value))},onKeyPress:function(e){null===e.key.match(/[0-9]/)&&e.preventDefault()}})]}),Object(p.jsx)(A,{id:"color_picker_container",content:i.rgbControls})]})},i.state.brush=e.brush,i.state.brush.preview=Object(u.a)(i),i.updateColor=e.updateColor.bind(Object(u.a)(i)),i.fetchDisplayColor=i.fetchDisplayColor.bind(Object(u.a)(i)),i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.refresh(),this.updatePreview()}}]),n}(o.a.Component)),V=n.p+"static/media/eye-open.157d1f69.svg",H=n.p+"static/media/minus.e3517047.svg",U=(n(44),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={layers:null},i.container=null,i.updateActiveLayer=function(e){var t=i.state;document.getElementById("layer_".concat(t.layers.active)).classList.remove("layer-item-selected"),document.getElementById("layer_".concat(e)).classList.add("layer-item-selected"),t.layers.active=e,i.setState(t)},i.updateLayerViewable=function(e){var t=i.state;t.layers.get(e).toggle(),document.getElementById("layer_".concat(e,"_viewable")).classList.toggle("layer-item-viewable"),i.setState(t)},i.layerMovementButtons=function(e,t){return Object(p.jsxs)("div",{className:"layer-item-movement-group",children:[Object(p.jsx)("div",{id:"layer_item_move_up",className:"layer-item-movement-button".concat(0===e?" hidden":""),onClick:function(){var t=i.state;t.layers.move(e,e-1),i.setState(t),i.updateActiveLayer(e-1)},children:"/\\"}),Object(p.jsx)("div",{id:"layer_item_move_down",className:"layer-item-movement-button".concat(e===t?" hidden":""),onClick:function(){var t=i.state;t.layers.move(e,e+1),i.setState(t),i.updateActiveLayer(e+1)},children:"\\/"})]})},i.layerControls=function(){return Object(p.jsxs)("div",{className:"layers-container",children:[i.state.layers.cache.map((function(e,t){return Object(p.jsxs)("div",{className:"layer-item".concat(t===i.state.layers.active?" layer-item-selected":""),id:"layer_".concat(t),onClick:function(e){i.updateActiveLayer(t)},children:[i.layerMovementButtons(t,i.state.layers.cache.length-1),Object(p.jsx)("input",{type:"text",className:"layer-item-title",placeholder:"Layer ".concat(t+1),value:e.name,onChange:function(e){var n=i.state;n.layers.get(t).name=e.target.value,i.setState(n)}}),Object(p.jsx)("img",{src:V,alt:"Hide",className:"layer-item-button",id:"layer_".concat(t,"_viewable"),onClick:function(){i.updateLayerViewable(t)}}),Object(p.jsx)("img",{src:H,alt:"Remove",className:"layer-item-button",onClick:function(){var e=i.state;e.layers=e.layers.remove(t),i.setState(i.state)}})]},t)})),Object(p.jsx)("div",{className:"layer-add-item",onClick:function(){i.state.layers.add(),i.setState(i.state)},children:"Add Layer"})]})},i.render=function(){return Object(p.jsx)("div",{className:"floater-group",children:Object(p.jsx)(A,{id:"layer_container",content:i.layerControls})})},i.state.layers=e.layers,i.updateActiveLayer=i.updateActiveLayer.bind(Object(u.a)(i)),i.updateLayerViewable=i.updateLayerViewable.bind(Object(u.a)(i)),i.layerMovementButtons=i.layerMovementButtons.bind(Object(u.a)(i)),i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.container=document.getElementById("layers_controls_container")}}]),n}(o.a.Component)),J=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={editor:null,brush:null,layers:null,container:null,origin:null,moving:null},i.content=function(){var e=[{key:"Colors",value:Object(p.jsx)(G,{updateColor:i.updateColor,brush:i.state.brush})},{key:"Layers",value:Object(p.jsx)(U,{layers:i.state.layers})},{key:"Debug",value:Object(p.jsx)("div",{className:"debug",id:"debug"})}];return Object(p.jsx)("ul",{className:"floater-group-list",children:e.map((function(e,t){return Object(p.jsxs)("li",{className:"floater-group",children:[Object(p.jsx)("div",{className:"floater-group-title",children:e.key}),e.value]},e.key)}))})},i.componentDidMount=function(){var e=i.state;e.container=document.getElementById("side_bar_container"),e.origin=e.container.parentElement.getBoundingClientRect(),e.container.style.left="".concat(e.origin.width-e.container.getBoundingClientRect().width,"px"),i.setState(e)},i.render=function(){return Object(p.jsx)(I,{id:"side_bar_container",content:i.content})},i.state.editor=e.editor,i.state.brush=e.editor.brush,i.state.layers=e.editor.layers,i.updateColor=e.updateColor,i}return n}(o.a.Component),Y=(n(45),null),K=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(s.a)(this,n),(e=t.call(this)).state={app:null,canvas:null,doBoundUpdate:!0,editor:E},e.updateColor=e.updateColor.bind(Object(u.a)(e)),e.fetchBrush=e.fetchBrush.bind(Object(u.a)(e)),e}return Object(l.a)(n,[{key:"getCanvas",value:function(){var e=document.getElementById("texture_editor_wrapper"),t=e.getBoundingClientRect(),n=this.state;n.app=new v.a({width:t.width,height:t.height,backgroundAlpha:1}),n.editor=E.create(n.app,16),n.app.view.oncontextmenu=function(e){e.preventDefault(),e.stopPropagation()},n.app.view.id="editor",n.canvas=n.editor.startup(),e.appendChild(n.canvas),this.setState(n)}},{key:"componentDidMount",value:function(){var e=this;this.getCanvas(),this.state.editor.bounds.update(),document.addEventListener("mousemove",(function(t){y.position.document.x=t.clientX,y.position.document.y=t.clientY,y.position.old={x:Math.floor(y.position.x),y:Math.floor(y.position.y)},y.position.x=Math.floor(t.clientX-e.state.editor.bounds.value.left),y.position.y=Math.floor(t.clientY-e.state.editor.bounds.value.top),y.moving=!0,Y&&clearTimeout(Y),Y=setTimeout((function(){y.position.old={x:Math.floor(y.position.x),y:Math.floor(y.position.y)},y.moving=!1}),30)})),this.state.canvas.addEventListener("mousedown",(function(e){y.button.state=!0,y.button.id=e.button})),this.state.canvas.addEventListener("mouseup",(function(){y.button.state=!1,y.button.id=null})),this.state.canvas.addEventListener("mouseleave",(function(){return y.inBounds=!1})),this.state.canvas.addEventListener("mouseenter",(function(){return y.inBounds=!0})),this.state.canvas.addEventListener("click",(function(){return y.clicked=!0})),window.addEventListener("resize",(function(){return e.state.editor.bounds.update()}))}},{key:"fetchBrush",value:function(){return this.state.editor.brush}},{key:"updateColor",value:function(e){var t=this.state,n=t.editor.brush.getColor();for(var i in e)n[i]=""===e[i]?0:Number(e[i]);t.editor.brush.setColor(n),this.setState(t)}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"editor-container",children:[Object(p.jsx)(L,{editor:this.state.editor}),Object(p.jsxs)("div",{className:"texture-editor-container",id:"texture_editor_container",children:[Object(p.jsx)(P,{editor:this.state.editor}),Object(p.jsx)(J,{editor:this.state.editor,updateColor:this.updateColor}),Object(p.jsx)("div",{className:"texture-editor-wrapper",id:"texture_editor_wrapper",onWheel:function(t){return e.state.editor.zoom(t.deltaY>0)}})]}),Object(p.jsxs)("div",{className:"texture-editor-controls",children:[Object(p.jsx)("label",{htmlFor:"texture-name-input",children:"File name:"}),Object(p.jsx)("input",{type:"text",name:"texture-name-input",id:"image_name",defaultValue:"texture",onKeyPress:function(e){e.key.match(/[\w\d.()]/)||e.preventDefault()}})]})]})}}]),n}(o.a.Component),X=n(8),Z=n.n(X),W=n(10),q=n(13),Q=n.n(q),$=function(){function e(t,n,i){Object(s.a)(this,e),this.name=t,this.file=n,this.dir=i}return Object(l.a)(e,[{key:"values",value:function(){return this.file}},{key:"rename",value:function(e){return this.moveTo(this.dir,e)}},{key:"path",value:function(){return this.dir.path()+"/"+this.name}},{key:"write",value:function(e){return this.file=new File([e],this.name,{type:this.file.type}),this.file}},{key:"moveTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!==this.dir&&delete this.dir.content[this.name],null!==t&&(this.name=t,this.file=new File([this.file],this.name,{type:this.file.type})),this.dir=e,e.content[this.name]=this,this}}]),e}(),ee=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Object(s.a)(this,e),this.name=t,this.dir=n,this.content={}}return Object(l.a)(e,[{key:"addFile",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=e;if(this.content[i]&&!n)for(var a=1,o=i.match(/(.*?)(\.[a-zA-Z0-9]+)/);this.content[i];)i=o[1]+"(".concat(a,")")+o[2],a++;return this.content[i]=new $(i,new File([t],i,{type:t.type}),this),this.content[i]}},{key:"getFile",value:function(e){return void 0!==this.content[e]&&void 0===this.content[e].content?this.content[e]:null}},{key:"deleteFile",value:function(e){delete this.content[e]}},{key:"addDir",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t;if(this.content[a]&&!i)for(var o=1;this.content[a];)a=t+"(".concat(o,")"),o++;return this.content[a]=null!==n?n.moveTo(this,a):new e(a,this),this.content[a]}},{key:"getDir",value:function(e){return void 0!==this.content[e]&&void 0!==this.content[e].content?this.content[e]:null}},{key:"deleteDir",value:function(e){delete this.content[e]}},{key:"contains",value:function(e){return!!this.content[e]}},{key:"values",value:function(){var e=[];for(var t in this.content)e.push(this.content[t].values());return e}},{key:"rename",value:function(e){return this.moveTo(this.dir,e)}},{key:"moveTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!==this.dir&&delete this.dir.content[this.name],null!==t&&(this.name=t),this.dir=e,e.content[this.name]=this,this}},{key:"path",value:function(){return(null===this.dir?"":this.dir.path()+"/")+this.name}}]),e}();function te(e,t){if(e.content)for(var n in e.content)e.content[n].content?t=te(e.content[n],t):t[e.content[n].path()]=e.content[n].file;return t}var ne=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(s.a)(this,e),this.root=null===t?null:new ee(t)}return Object(l.a)(e,[{key:"values",value:function(){return this.root.values()}},{key:"compress",value:function(){var e=Object(W.a)(Z.a.mark((function e(){var t,n,i;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Q.a,n=te(this.root,{}),e.t0=Z.a.keys(n);case 3:if((e.t1=e.t0()).done){e.next=13;break}return i=e.t1.value,e.t2=t,e.t3=i,e.next=9,n[i];case 9:e.t4=e.sent,e.t2.file.call(e.t2,e.t3,e.t4),e.next=3;break;case 13:return e.abrupt("return",t.generateAsync({type:"blob"}));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setRoot",value:function(e){return this.root=new ee(e),this.root}},{key:"fetch",value:function(e){if(null===this.root)return null;var t=e.split("/");t[0]===this.root.name&&t.shift();var n=this.root;return t.forEach((function(e,i){i!==t.length-1?n.content?n.contains(e)&&(n=n.getDir(e)):n=null:n=n.getFile(e)})),n}},{key:"fetchDir",value:function(e){if(null===this.root)return null;var t=e.split("/");t[0]===this.root.name&&t.shift();var n=this.root;return t.forEach((function(e,i){i!==t.length-1?n.content?n.contains(e)&&(n=n.getDir(e)):n=null:n=n.getDir(e)})),n}},{key:"set",value:function(e,t,n){var i=e.split("/");i[0]===this.root.name&&i.shift();var a=this.root,o=i.length-1,r=null;for(var c in i)Number(c)===o&&null!==a?r=a.addFile(t,n,!0):a=a.contains(i[c])?a.getDir(i[c]):a.addDir(i[c]);return r}}]),e}(),ie=(n(51),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={content:e.content},i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=[];this.state.content.forEach((function(t){return e.push(document.getElementById(t.id))})),document.addEventListener("click",(function(t){e.forEach((function(e){e.parentElement.contains(t.target)||e.classList.add("hidden")}))}))}},{key:"render",value:function(){return Object(p.jsx)("div",{className:"texture-editor-ribbon",children:this.state.content.map((function(e){return Object(p.jsxs)("div",{className:"ribbon-menu",children:[Object(p.jsx)("div",{className:"ribbon-menu-button",onClick:function(){document.getElementById(e.id).classList.toggle("hidden")},children:e.key}),e.value]},e.key)}))})}}]),n}(o.a.Component));n(52);function ae(e,t,n){return e.slice(0,n)+t+e.slice(n,e.length)}function oe(e,t,n){return n<t?e:e.slice(0,t)+e.slice(n,e.length)}function re(e,t){return e.indexOf(t)+t.length}var ce=/%org_name%/g,se=/%mod_name%/g,le=/%mod_name_lc%/g,ue={tab:{r:/%tab_(\d+)%/,f:function(e){return" ".repeat(4*e)}},libRepo:{r:/%lib_repo_url%/,f:function(e){return"https://raw.githubusercontent.com/ChrisOfNormandy/CoNLib/".concat(e||"1.16.5")}},libVersion:{r:/%lib_version%/,f:function(e){return e||"1.6"}}};function de(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;void 0!==t.org_name&&(n=n.replace(ce,t.org_name)),void 0!==t.mod_name&&(n=n.replace(se,t.mod_name).replace(le,t.mod_name.toLowerCase()));var i=null;for(var a in ue)for(i=n.match(ue[a].r);null!==i;)i=(n=n.replace(i[0],ue[a].f(i[1]))).match(ue[a].r);return n}var he=n(1);function me(e){var t=e.fetchDir("src/main/java/com");if(null===t)return Promise.reject(new Error("Failed to fetch file: 'src/main/java/com'"));var n=prompt("Organization (or your name)","myorg").toLowerCase()||"myorg",i=prompt("Mod name","MyMod").replace(/[^a-zA-Z0-9]/g,"")||"MyMod";return new Promise((function(a,o){var r=t.getDir("example").rename(n).getDir("examplemod").rename(i.toLowerCase()).getFile("ExampleMod.java").rename(i+".java");r.file.text().then((function(t){var c=t,s=he.tags;for(var l in s)c=c.replace(s[l].from,s[l].to);var u=0,d={mod_name:i,org_name:n},h=(c=de(c,d)).match(new RegExp("public ".concat(i,"\\(\\) {\n([^}]+)}")));u=re(c=c.replace(h[1],"".concat(" ".repeat(8),"// ##CON_TAG##\n").concat(" ".repeat(4))),"LogManager.getLogger();"),u=re(c=ae(c,"\n"+he["Main.java"].preConstructorBody.join("\n"),u),"##CON_TAG##"),c=oe(c=ae(c,"\n"+he["Main.java"].constructorBody.join("\n"),u),c.indexOf("private void setup"),c.indexOf("@Mod.EventBusSubscriber(bus=Mod.EventBusSubscriber.Bus.MOD)")),c=ae(c=oe(c=de(c,d),c.indexOf("import net.minecraft.block.Block;"),c.indexOf('@Mod("'.concat(i.toLowerCase(),'")'))),he["Main.java"].imports.join("\n")+"\n",c.indexOf('@Mod("'.concat(i.toLowerCase(),'")'))),c=ae(c,de(he["Main.java"].blockRegistry.code),re(c,he["Main.java"].blockRegistry.front)),r.file=new File([c],r.file.name,{type:r.file.type}),function(e,t,n){var i=e.root.getFile("build.gradle");return null===i?Promise.reject(new Error("Failed to fetch build.gradle file.")):new Promise((function(a,o){i.file.text().then((function(r){var c=r;c=ae(c,he["build.gradle"].repositories.data.join("\n"),re(c,he["build.gradle"].repositories.tag)),c=de(c=(c=(c=(c=(c=(c=(c=ae(c,he["build.gradle"].dependencies.data,re(c,he["build.gradle"].dependencies.tag))).replace(he["build.gradle"].group.from,he["build.gradle"].group.to)).replace(he["build.gradle"].archivesBaseName.from,he["build.gradle"].archivesBaseName.to)).replace(he["build.gradle"]["Specification-Title"].from,he["build.gradle"]["Specification-Title"].to)).replace(he["build.gradle"]["Specification-Vendor"].from,he["build.gradle"]["Specification-Vendor"].to)).replace(he["build.gradle"]["Implementation-Vendor"].from,he["build.gradle"]["Implementation-Vendor"].to)).replace(he["build.gradle"].reobf.from,he["build.gradle"].reobf.to),{mod_name:t,org_name:n}),i.file=new File([c],i.file.name,{type:i.file.type}),function(e,t,n){var i=e.fetch("src/main/resources/pack.mcmeta");return null===i?Promise.reject(new Error("Failed to fetch pack.mcmeta file.")):new Promise((function(a,o){i.file.text().then((function(r){var c=r;for(var s in he.packMcMeta)c=c.replace(he.packMcMeta[s].from,he.packMcMeta[s].to);c=de(c,{mod_name:t,org_name:n}),i.file=new File([c],i.file.name,{type:i.file.type}),function(e,t,n){var i=e.fetch("src/main/resources/META-INF/mods.toml");return null===i?Promise.reject(new Error("Failed to fetch mods.toml file.")):new Promise((function(a,o){i.file.text().then((function(r){var c=r;for(var s in he.modsToml)c=c.replace(he.modsToml[s].from,he.modsToml[s].to);c=de(c+=he.modsTomlDependency.join("\n"),{mod_name:t,org_name:n}),i.file=new File([c],i.file.name,{type:i.file.type}),function(e,t,n){var i=e.fetchDir("src/main/java/com"),a=i.getDir(n).getDir(t.toLowerCase());return new Promise((function(o,r){var c=he["ModBlocks.java"].data.join("\n");c=de(c,{mod_name:t,org_name:n}),a.addFile("ModBlocks.java",new File([c],"ModBlocks.java",{type:i.getDir(n).getDir(t.toLowerCase()).getFile(t+".java").file.type})),o(e)}))}(e,t,n).then((function(e){return a(e)})).catch((function(e){return o(e)}))})).catch((function(e){return o(e)}))}))}(e,t,n).then((function(e){return a(e)})).catch((function(e){return o(e)}))})).catch((function(e){return o(e)}))}))}(e,t,n).then((function(e){return a(e)})).catch((function(e){return o(e)}))})).catch((function(e){return o(e)}))}))}(e,i,n).then((function(e){a({archive:e,modName:i,orgName:n})})).catch((function(e){return o(e)}))})).catch((function(e){return o(e)}))}))}n(53);var fe=n(23),pe=(n(54),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(s.a)(this,n),i=t.call(this,e),console.log("New context menu.",e.menuItems.length),i.state={position:e.position,menuItems:e.menuItems||[]},i}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=document.getElementById("context_menu");null!==e&&(e.style.top=this.state.position.y+"px",e.style.left=this.state.position.x+"px")}},{key:"render",value:function(){var e=this;return this.state.menuItems.length>0?Object(p.jsx)("ul",{id:"context_menu",className:"context-menu",children:this.state.menuItems.map((function(t,n){return Object(p.jsx)("li",{className:"context-menu-item",onClick:function(){t.action(),e.setState(e.state)},children:t.markup},n)}))}):null}}]),n}(o.a.Component)),be={},ve=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={archive:e.archive,currentFile:e.currentFile,contextMenu:null},i.createFileList=i.createFileList.bind(Object(u.a)(i)),i.createFileObj=i.createFileObj.bind(Object(u.a)(i)),i}return Object(l.a)(n,[{key:"dropHandler",value:function(e,t){var n=this;e.preventDefault(),e.stopPropagation(),function(){var i=Object(W.a)(Z.a.mark((function i(){var a,o,r,c,s,l;return Z.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=n.state,o=[],e.dataTransfer.items.length)for(r in e.dataTransfer.items)"file"===(c=e.dataTransfer.items[r]).kind&&o.push(c.getAsFile());else for(s in e.dataTransfer.files)"file"===(l=e.dataTransfer.files[s]).kind&&o.push(l);o.forEach((function(e){return t.addFile(e.name,e)})),n.setState(a);case 5:case"end":return i.stop()}}),i)})));return function(){return i.apply(this,arguments)}}()()}},{key:"onDragOver",value:function(e){e.preventDefault()}},{key:"onDragLeave",value:function(e){e.preventDefault()}},{key:"folderCtxMenu",value:function(e){var t=this;return[{action:function(){var n=prompt("File name","new-file.txt")||"new-file.txt";e.addFile(n,new File([],n)),t.setState(t.state)},markup:Object(p.jsx)("div",{children:"New File"})},{action:function(){var n=prompt("Folder name","New Folder")||"New Folder";e.addDir(n),t.setState(t.state)},markup:Object(p.jsx)("div",{children:"New Folder"})}]}},{key:"fileCtxMenu",value:function(e){var t=this;return[{action:function(){var n=prompt("File name",e.name)||e.name;e.rename(n),t.setState(t.state)},markup:Object(p.jsx)("div",{children:"Rename"})}]}},{key:"createFileObj",value:function(e){var t=this;return Object(p.jsxs)("li",{id:e.name,className:"file-explorer-row file-explorer-list-item file-explorer-file-label file-item",onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:function(n){console.log(n.target),t.dropHandler(n,e.dir)},children:[Object(p.jsx)("span",{title:"".concat(e.path()," | Size: ").concat(e.file.size<1024?e.file.size+"B":e.file.size/1024<1024?(e.file.size/1024).toFixed(2)+"KB":(e.file.size/1048576).toFixed(2)+"MB"),onClick:function(){e.file.text().then((function(n){var i=document.getElementById("txtArea"),a=t.state;""===i.value||null===a.currentFile.file||i.value===a.currentFile.text?(i.value=n,a.currentFile.fsfile=e,a.currentFile.file=e.file,a.currentFile.path=e.path(),a.currentFile.text=n.replace(/\r\n/g,"\n"),document.getElementById("text_area_file_name").value=e.file.name,t.setState(a)):console.log("Unsaved changes.")})).catch((function(e){return console.error(e)}))},onContextMenu:function(n){n.preventDefault();var i=t.state;i.contextMenu=Object(p.jsx)(pe,{position:{x:n.clientX,y:n.clientY},menuItems:t.fileCtxMenu(e)}),t.setState(i)},children:e.name}),Object(p.jsx)("div",{className:"file-explorer-options",children:Object(p.jsx)("i",{id:"".concat(e.name,"_delete_button"),className:"icon bi-file-earmark-x editor-toolbar-icon dir-item-icon",title:"Delete",onClick:function(){var n=t.state;e.dir.deleteFile(e.name),t.setState(n)}})})]},e.name)}},{key:"createFileList",value:function(e){var t=this;if(null!==e){if(e.content){var n=[],i=function(i){if(e.content[i].content){var a=Object(fe.uniqueId)();void 0===be[a]&&(be[a]=!1),n.push(Object(p.jsxs)("li",{className:"file-explorer-list-item",onDragOver:t.onDragOver,onDragLeave:t.onDragLeave,onDrop:function(n){return t.dropHandler(n,e.content[i])},children:[Object(p.jsxs)("div",{className:"file-explorer-row file-explorer-dir-label dir-item",children:[Object(p.jsx)("span",{onClick:function(){var e=document.getElementById(a);e.classList.toggle("hidden"),be[a]=e.classList.contains("hidden")},onContextMenu:function(n){n.preventDefault();var a=t.state;a.contextMenu=Object(p.jsx)(pe,{position:{x:n.clientX,y:n.clientY},menuItems:t.folderCtxMenu(e.content[i])}),t.setState(a)},children:i}),Object(p.jsxs)("div",{className:"file-explorer-options",children:[Object(p.jsx)("i",{id:"".concat(a,"_new_file_button"),className:"icon bi-file-earmark-plus editor-toolbar-icon dir-item-icon",title:"New File",onClick:function(){var n=t.state;e.content[i].addFile("new-file.txt",new File([],"new-file.txt")),t.setState(n)}}),Object(p.jsx)("i",{id:"".concat(a,"_new_folder_button"),className:"icon bi-folder-plus editor-toolbar-icon dir-item-icon",title:"New Folder",onClick:function(){var n=t.state;e.content[i].addDir("new-folder"),t.setState(n)}}),Object(p.jsx)("i",{id:"".concat(a,"_delete_button"),className:"icon bi-folder-x editor-toolbar-icon dir-item-icon",title:"Delete",onClick:function(){var n=t.state;e.deleteDir(i),t.setState(n)}})]})]}),Object(p.jsx)("div",{id:a,className:"file-explorer-dir-group ".concat(!0===be[a]?"hidden":""),children:t.createFileList(e.content[i])})]},a))}else n.push(t.createFileObj(e.content[i]))};for(var a in e.content)i(a);return Object(p.jsx)("ul",{className:"file-explorer-list",children:n.map((function(e){return e}))})}return Object(p.jsx)("li",{className:"file-explorer-list-item",children:this.createFileObj(e)})}}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"sect-file-explorer-list",id:"sect_file_explorer_list",onClick:function(){if(null!==e.state.contextMenu){var t=e.state;t.contextMenu=null,console.log("FF"),e.setState(t)}},onDrop:function(t){e.dropHandler(t,e.state.archive.root)},children:[this.createFileList(this.state.archive.root),this.state.contextMenu]})}}]),n}(o.a.Component);function ge(e,t){return new Promise((function(n,i){e.file.text().then((function(i){var a=i;a=de(a=ae(a,'Standard.create("'.concat(t,'", Properties.copy(Blocks.STONE), ItemGroup.TAB_BUILDING_BLOCKS);\n%tab_2%'),a.indexOf("// ##MB_TAG##"))),e.file=new File([a],e.file.name,{type:e.file.type}),n(e)})).catch((function(e){return i(e)}))}))}var ye={blocks:{standard:i}},xe={file:null,fsfile:null,path:"",text:""};var je=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={archive:new ne,modName:"",orgName:"",buttons:[{key:"File",id:"mod_builder_file_menu",value:Object(p.jsx)(M,{content:[Object(p.jsx)("div",{className:"menu-button",onClick:function(){var e,t,n,a=i.state;a.archive.setRoot("My_Mod"),(e="1.16.5",t="36.2.5",n=a.archive,new Promise((function(i,a){(function(e,t){return new Promise((function(n,i){fetch("https://maven.minecraftforge.net/net/minecraftforge/forge/".concat(e,"-").concat(t,"/forge-").concat(e,"-").concat(t,"-mdk.zip")).then((function(e){var t=new Q.a;e.blob().then((function(e){t.loadAsync(e).then((function(e){return n(e)})).catch((function(e){return i(e)}))})).catch((function(e){return i(e)}))})).catch((function(e){return i(e)}))}))})(e,t).then(function(){var e=Object(W.a)(Z.a.mark((function e(t){var a,o,r,c,s;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=Z.a.mark((function e(){var i;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.root,o=t.file(a),r=a.split("/"),""===(c=r.pop())){e.next=17;break}return r.forEach((function(e){null===i?(n.root=new ee(e),i=n.root):i=i.contains(e)?i.getDir(e):i.addDir(e)})),e.t0=i,e.t1=c,e.t2=File,e.next=11,o.async("blob");case 11:e.t3=e.sent,e.t4=[e.t3],e.t5=c,e.t6=new e.t2(e.t4,e.t5),e.t7=r.join("/"),e.t0.addFile.call(e.t0,e.t1,e.t6,e.t7);case 17:case"end":return e.stop()}}),e)})),e.t0=Z.a.keys(t.files);case 2:if((e.t1=e.t0()).done){e.next=7;break}return a=e.t1.value,e.delegateYield(s(),"t2",5);case 5:e.next=2;break;case 7:i(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return a(e)}))}))).then((function(e){me(e).then((function(e){a.archive=e.archive,a.modName=e.modName,a.orgName=e.orgName,i.setState(a)})).catch((function(e){return console.error(e)}))})).catch((function(e){return console.error(e)}))},children:"New Project"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"file",id:"zip_input",name:"zip_input",accept:".zip"}),Object(p.jsx)("button",{className:"menu-button",onClick:function(){var e=document.getElementById("zip_input").files;if(1===e.length){var t=new Q.a,n=i.state,a=e.item(0).name;n.archive.setRoot(a.slice(0,a.length-4)),function(e,t,n){return new Promise((function(i,a){e.loadAsync(n).then(function(){var e=Object(W.a)(Z.a.mark((function e(n){var a,o,r,c,s;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=Z.a.mark((function e(){var i;return Z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.root,o=n.file(a),r=a.split("/"),""===(c=r.pop())){e.next=17;break}return r.forEach((function(e){null===i?(t.root=new ee(e),i=t.root):i=i.contains(e)?i.getDir(e):i.addDir(e)})),e.t0=i,e.t1=c,e.t2=File,e.next=11,o.async("blob");case 11:e.t3=e.sent,e.t4=[e.t3],e.t5=c,e.t6=new e.t2(e.t4,e.t5),e.t7=r.join("/"),e.t0.addFile.call(e.t0,e.t1,e.t6,e.t7);case 17:case"end":return e.stop()}}),e)})),e.t0=Z.a.keys(n.files);case 2:if((e.t1=e.t0()).done){e.next=7;break}return a=e.t1.value,e.delegateYield(s(),"t2",5);case 5:e.next=2;break;case 7:i(t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return a(e)}))}))}(t,n.archive,e.item(0)).then((function(e){n.archive=e,i.setState(n)})).catch((function(e){return console.error(e)}))}else console.log("No file selected.")},children:"Open Project"})]}),Object(p.jsx)("div",{className:"menu-button",onClick:function(){var e=i.state;e.archive=_e(e.archive),i.setState(e)},children:"Save File"}),Object(p.jsx)("div",{className:"menu-button",onClick:function(){var e;(e=i.state.archive).compress().then((function(t){!function(e,t){var n=window.URL.createObjectURL(t),i=document.getElementById("download_link");i.href=n,i.setAttribute("download",e),i.click()}(e.root.name+".zip",t)})).catch((function(e){return console.error(e)}))},children:"Download"})],id:"mod_builder_file_menu",hidden:!0})},{key:"Blocks",id:"mod_builder_content_blocks_menu",value:Object(p.jsx)(M,{content:[Object(p.jsx)("div",{className:"menu-button",onClick:function(){if(null===i.state.archive.root||""===i.state.orgName||""===i.state.modName)return console.log("Invalid.");var e=i.state,t=prompt("Block name","my_block")||"my_block";ye.blocks.standard.create(e.archive.fetch("src/main/java/com/".concat(e.orgName,"/").concat(e.modName.toLowerCase(),"/ModBlocks.java")),t).then((function(t){i.setState(e)})).catch((function(e){return console.error(e)}))},children:"Create Standard"})],id:"mod_builder_content_blocks_menu",hidden:!0})}]},i}return Object(l.a)(n,[{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{className:"mod-builder-sect",children:Object(p.jsxs)("div",{className:"sect-container",children:[Object(p.jsx)("div",{className:"nav-wrapper",children:Object(p.jsx)(ie,{content:this.state.buttons})}),Object(p.jsxs)("div",{id:"sect_main",className:"sect-main",children:[Object(p.jsxs)("div",{className:"sect-file-explorer",id:"sect_file_explorer",children:[Object(p.jsx)("div",{className:"file-explorer-toolbar",children:Object(p.jsx)("i",{id:"editor_new_file_button",className:"icon bi-file-earmark-plus editor-toolbar-icon icon-active",title:"New File",onClick:function(){if(null!==e.state.archive.root){var t=e.state;t.archive.root.addFile("new-file.txt",new File([],"new-file.txt")),e.setState(t)}}})}),Object(p.jsx)(ve,{archive:this.state.archive,currentFile:xe})]}),Object(p.jsxs)("div",{className:"sect-text-area",children:[Object(p.jsx)("textarea",{id:"txtArea",onChange:function(e){null!==xe.file&&e.target.value!==xe.text?(document.getElementById("editor_save_button").classList.add("icon-active"),document.getElementById("editor_discard_button").classList.add("icon-active")):e.target.value===xe.text&&(document.getElementById("editor_save_button").classList.remove("icon-active"),document.getElementById("editor_discard_button").classList.remove("icon-active"))}}),Object(p.jsxs)("div",{className:"text-area-toolbar",children:[Object(p.jsx)("label",{htmlFor:"fileName",children:"File name:"}),Object(p.jsx)("input",{type:"text",name:"fileName",id:"text_area_file_name",onKeyPress:function(e){null===xe.file&&e.preventDefault()}}),Object(p.jsx)("i",{id:"editor_rename_button",className:"icon bi-arrow-return-right editor-toolbar-icon icon-active",title:"Rename",onClick:function(){if(null!==xe.file){var t=e.state;t.archive=function(e){var t=document.getElementById("text_area_file_name").value,n=xe.fsfile.dir.addFile(t,new File([xe.file],t,{type:xe.file.type}),xe.path);return xe.fsfile.dir.deleteFile(xe.file.name),xe.file=n.file,xe.fsfile=n,e}(t.archive),e.setState(t)}}}),Object(p.jsx)("i",{id:"editor_save_button",className:"icon bi-save editor-toolbar-icon",title:"Save",onClick:function(){var t=e.state;t.archive=_e(t.archive),e.setState(t)}}),Object(p.jsx)("i",{id:"editor_discard_button",className:"icon bi-x-circle editor-toolbar-icon",title:"Discard Changes",onClick:function(){return document.getElementById("txtArea").value=xe.text,document.getElementById("editor_save_button").classList.remove("icon-active"),void document.getElementById("editor_discard_button").classList.remove("icon-active")}})]})]})]})]})})}}]),n}(o.a.Component);function _e(e){var t=document.getElementById("txtArea"),n=e.set(xe.path,xe.file.name,new File([t.value],xe.file.name,{type:xe.file.type}));return xe.fsfile=n,xe.file=n.file,xe.path=n.path(),xe.text=t.value,document.getElementById("editor_save_button").classList.remove("icon-active"),document.getElementById("editor_discard_button").classList.remove("icon-active"),e}n(55);var ke=function(){return Object(p.jsxs)("div",{className:"App",onDrop:function(e){return e.preventDefault()},children:[Object(p.jsx)("div",{id:"sect_paint",className:"primary-sect hidden",children:Object(p.jsx)(K,{})}),Object(p.jsx)("div",{id:"sect_config",className:"primary-sect hidden",children:Object(p.jsx)(b,{})}),Object(p.jsx)("div",{id:"sect_builder",className:"primary-sect",children:Object(p.jsx)(je,{})})]})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,60)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),o(e),r(e)}))},we=(n(56),function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(e){var i;return Object(s.a)(this,n),(i=t.call(this,e)).state={buttons:e.buttons||[]},i}return Object(l.a)(n,[{key:"render",value:function(){return Object(p.jsx)("ul",{className:"nav-bar",children:this.state.buttons.map((function(e,t){return Object(p.jsx)("li",{className:"nav-bar-button",id:e.id+"_btn",onClick:function(t){e.action(t)},children:e.value},t)}))})}}]),n}(o.a.Component));n(57),n(58);function Ce(e){var t;Ne.forEach((function(n){t=document.getElementById(n.id),n.id===e?t.classList.remove("hidden"):t.classList.add("hidden")}))}var Ne=[{value:Object(p.jsx)("div",{children:"Paint"}),id:"sect_paint",action:function(e){Ce("sect_paint")}},{value:Object(p.jsx)("div",{children:"Builder"}),id:"sect_builder",action:function(e){Ce("sect_builder")}},{value:Object(p.jsx)("div",{children:"Config"}),id:"sect_config",action:function(e){Ce("sect_config")}}];c.a.render(Object(p.jsxs)(o.a.StrictMode,{children:[Object(p.jsx)("header",{children:Object(p.jsx)(we,{buttons:Ne})}),Object(p.jsx)("main",{children:Object(p.jsx)(ke,{})}),Object(p.jsxs)("footer",{children:[Object(p.jsx)("div",{children:"Built by ChrisOfNormandy."}),Object(p.jsxs)("div",{children:["Join ",Object(p.jsx)("a",{href:"https://discord.gg/EW5JsGJfdt",children:"Discord"})]})]})]}),document.getElementById("root")),Oe()}],[[59,1,2]]]);
//# sourceMappingURL=main.990c71d8.chunk.js.map