(this["webpackJsonpconloot-gui"]=this["webpackJsonpconloot-gui"]||[]).push([[0],{1:function(e,t){var n={position:{x:0,y:0,old:{x:0,y:0}},button:{state:!1,id:0,origin:{x:null,y:null}},displacement:function(){return{x:null===n.position.old.x?0:n.position.x-n.position.old.x,y:null===n.position.old.y?0:n.position.y-n.position.old.y}},getPosition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?{x:n.position.x,y:n.position.y}:{x:n.position.x-e.x,y:n.position.y-e.y}},inBounds:!1,moving:!1,clicked:!1};e.exports=n},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var o=n(3),a=n.n(o),i=n(15),r=n.n(i),c=(n(24),n(25),n(6)),l=n(9),s=n(8),d=(n(26),n(0)),u=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(c.a)(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).render=function(){return Object(d.jsx)("div",{className:"nav-bar"})},e}return n}(a.a.Component),p=n(16),g=n(7),b=n(4),h=n(1),x=n.n(h),f={app:null,currentColor:{r:0,g:0,b:0,a:255},background:[],width:0,height:0,scale:0,debug:!1,debugElem:document.getElementById("debug"),pixels:[],showGrid:!1,refresh:!0,doBoundUpdate:!0,bounds:null,type:"WebGL",loader:b.c.shared,Sprite:b.d,Graphics:b.b,updateBounds:function(){var e=f.app.view.getBoundingClientRect();f.bounds={x:e.x,y:e.y,left:e.left,right:e.right,top:e.top,bottom:e.bottom,width:e.width,height:e.height},f.doBoundUpdate=!1,f.refresh=!0},startup:function(){return f.onReady((function(){return f.app.ticker.add((function(){return f.draw()}))})),f.app.view},onReady:function(e){console.log("App ready. Loading."),b.e.isWebGLSupported()||(f.type="canvas"),b.e.sayHello(f.type),f.loader.load(e)},updateDebug:function(){if(null===f.debugElem&&(f.debugElem=document.getElementById("debug")),f.debug){var e=x.a.getPosition();f.debugElem.innerHTML="Mouse: ".concat(JSON.stringify(e)," --\x3e ").concat(Math.floor(e.x/16),", ").concat(Math.floor(e.y/16),"<br />")+"Color: ".concat(JSON.stringify(f.currentColor),"<br />")+"0x".concat(f.decToHex(f.currentColor.r)).concat(f.decToHex(f.currentColor.g)).concat(f.decToHex(f.currentColor.b))}else f.debugElem.innerHTML=""},draw:function(){f.updateDebug();for(var e=0;e<16;e++)for(var t=0;t<16;t++)f.refresh&&f.setPixel(e,t,f.pixels[e][t].color),f.pixels[e][t].update&&(console.log(e,t,f.pixels[e][t].color),f.app.stage.removeChild(f.pixels[e][t].graphic),f.pixels[e][t].color.a<255?f.app.stage.addChild(f.background[16*t+e]):f.app.stage.removeChild(f.background[16*t+e]),f.pixels[e][t].color.a>0&&f.app.stage.addChild(f.pixels[e][t].graphic),f.pixels[e][t].update=!1);if(x.a.button.state){var n=x.a.getPosition(),o=Math.floor(n.x/f.scale),a=Math.floor(n.y/f.scale);o>=0&&o<16&&a>=0&&a<16&&(0===x.a.button.id?f.setPixel(o,a,f.currentColor):2===x.a.button.id&&f.setPixel(o,a,{r:0,g:0,b:0,a:0}),f.getPixel(o,a).update=!0),x.a.inBounds||(x.a.button.state=!1)}f.refresh=!1},decToHex:function(e){var t=Number(e).toString(16);return 1===t.length?"0".concat(t):t},clear:function(){for(var e=0;e<16;e++)for(var t=0;t<16;t++)f.setPixel(e,t,null)},rgbToHex:function(e,t,n){return Number("0x".concat(f.decToHex(e)).concat(f.decToHex(t)).concat(f.decToHex(n)))},getPixel:function(e,t){return f.pixels[e]&&f.pixels[e][t]?f.pixels[e][t]:null},setPixel:function(e,t,n){return f.pixels[e][t]||(f.pixels[e][t]={color:n,graphic:new f.Graphics}),f.pixels[e][t].graphic=new f.Graphics,f.showGrid&&f.pixels[e][t].graphic.lineStyle(1,0,1),null===n?f.pixels[e][t].graphic.beginFill(0):f.pixels[e][t].graphic.beginFill(f.rgbToHex(n.r,n.g,n.b)),f.pixels[e][t].graphic.drawRect(0,0,f.scale,f.scale),f.pixels[e][t].graphic.endFill(),f.pixels[e][t].graphic.alpha=null===n?0:n.a/255,f.pixels[e][t].graphic.x=e*f.scale,f.pixels[e][t].graphic.y=t*f.scale,f.pixels[e][t].update=!0,f.pixels[e][t].color=null===n?{r:0,g:0,b:0,a:0}:n,f.pixels[e][t]},compose:function(){var e=document.createElement("canvas"),t=e.getContext("2d");e.width=16,e.height=16;for(var n,o=t.createImageData(16,16),a=0;a<16;a++)for(var i=0;i<16;i++){var r=4*(16*i+a);n=f.getPixel(a,i).color,o.data[r]=n.r,o.data[r+1]=n.g,o.data[r+2]=n.b,o.data[r+3]=n.a}t.putImageData(o,0,0);var c=e.toDataURL("image/png"),l=document.createElement("a");l.href=c,l.setAttribute("download","texture.png"),l.click()},create:function(e){f.app=e,f.width=e.view.width,f.height=e.view.height,f.scale=f.width/16,f.pixels=[];for(var t=0;t<16;t++){f.pixels[t]=[];for(var n=0;n<16;n++)f.background[16*n+t]=new f.Graphics,f.background[16*n+t].beginFill(t%2===0&&n%2===1||t%2===1&&n%2===0?16777215:14540253),f.background[16*n+t].drawRect(0,0,f.scale,f.scale),f.background[16*n+t].endFill(),f.background[16*n+t].x=t*f.scale,f.background[16*n+t].y=n*f.scale,f.setPixel(t,n,{r:255*t/15,g:0,b:255*n/15,a:Math.floor((255*t/15+255*n/15)/2)})}return f}},v=f,m=(n(37),null),j=function(e){Object(l.a)(n,e);var t=Object(s.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={app:null,canvas:null,doBoundUpdate:!0,editor:v},e.getCanvas=function(){var t=document.getElementById("texture_editor_wrapper"),n=.5*t.getBoundingClientRect().width,o=e.state;o.app=new b.a({width:n,height:n}),o.editor=v.create(o.app),o.app.view.oncontextmenu=function(e){e.preventDefault(),e.stopPropagation()},o.app.view.id="editor",o.canvas=o.editor.startup(),t.appendChild(o.canvas),e.setState(o)},e.componentDidMount=function(){e.getCanvas(),e.state.editor.updateBounds(),e.state.canvas.addEventListener("mousemove",(function(t){x.a.position.old={x:Math.floor(x.a.position.x),y:Math.floor(x.a.position.y)},x.a.position.x=Math.floor(t.clientX-e.state.editor.bounds.left),x.a.position.y=Math.floor(t.clientY-e.state.editor.bounds.top),x.a.moving=!0,m&&clearTimeout(m),m=setTimeout((function(){x.a.position.old={x:Math.floor(x.a.position.x),y:Math.floor(x.a.position.y)},x.a.moving=!1}),30)})),e.state.canvas.addEventListener("mousedown",(function(e){x.a.button.state=!0,x.a.button.id=e.button})),e.state.canvas.addEventListener("mouseup",(function(){x.a.button.state=!1,x.a.button.id=null})),e.state.canvas.addEventListener("mouseleave",(function(){return x.a.inBounds=!1})),e.state.canvas.addEventListener("mouseenter",(function(){return x.a.inBounds=!0})),e.state.canvas.addEventListener("click",(function(){return x.a.clicked=!0})),window.addEventListener("resize",(function(){e.state.editor.updateBounds()}))},e.render=function(){return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"texture-editor-container",id:"texture_editor_container",children:[Object(d.jsx)("div",{className:"texture-editor-wrapper",id:"texture_editor_wrapper"}),Object(d.jsx)("div",{className:"color-picker-container",children:["r","g","b","a"].map((function(t){return Object(d.jsxs)("div",{className:"rgb-input-container",children:[Object(d.jsx)("label",{htmlFor:"rgb_".concat(t),className:"rgb-input-label",children:t}),Object(d.jsx)("input",{name:"rgb_".concat(t),type:"text",className:"rgb-input-field",placeholder:"0",onChange:e.updateColor,onKeyPress:function(e){e.key.match(/[0-9]/)||e.preventDefault()},defaultValue:"a"===t?255:0},t)]},"rgb_".concat(t,"_div"))}))}),Object(d.jsxs)("div",{className:"texture-editor-controls",children:[Object(d.jsx)("button",{onClick:function(){var t=e.state;t.editor.showGrid=!t.editor.showGrid,t.editor.refresh=!0,e.setState(t)},children:"Toggle Grid"}),Object(d.jsx)("button",{onClick:function(){return e.state.editor.clear()},children:"Clear"})]}),Object(d.jsx)("button",{onClick:function(){return e.state.editor.compose()},children:"Download"})]}),Object(d.jsx)("label",{id:"debug_check_label",htmlFor:"debug-check",children:"Debug"}),Object(d.jsx)("input",{name:"debug-check",type:"checkbox",onChange:function(t){var n=e.state;n.editor.debug=t.target.checked,e.setState(n)}})]})},e.updateColor=e.updateColor.bind(Object(g.a)(e)),e}return Object(p.a)(n,[{key:"updateColor",value:function(e){var t=this.state;e.target.value>255&&(e.target.value=255);var n=e.target.name.match(/rgb_([rgba])/)[1];t.editor.currentColor[n]=""===e.target.value?0:e.target.value,this.setState(t)}}]),n}(a.a.Component);var y=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("header",{children:Object(d.jsx)(u,{})}),Object(d.jsxs)("main",{children:[Object(d.jsx)(j,{}),Object(d.jsx)("div",{id:"debug"})]}),Object(d.jsxs)("footer",{children:[Object(d.jsx)("div",{children:"Built by ChrisOfNormandy."}),Object(d.jsxs)("div",{children:["Join ",Object(d.jsx)("a",{href:"https://discord.gg/EW5JsGJfdt",children:"Discord"})]})]})]})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,39)).then((function(t){var n=t.getCLS,o=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),o(e),a(e),i(e),r(e)}))};r.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(y,{})}),document.getElementById("root")),w()}},[[38,1,2]]]);
//# sourceMappingURL=main.c52f0732.chunk.js.map