{"version":3,"sources":["app/texture-editor/common/Mouse.js","components/NavBar.js","app/texture-editor/editor.js","components/TextureEditor.js","App.js","reportWebVitals.js","index.js"],"names":["mouse","position","x","y","old","button","state","id","origin","displacement","getPosition","offset","inBounds","moving","clicked","module","exports","NavBar","render","className","React","Component","Editor","app","currentColor","r","g","b","a","debug","type","loader","PIXI","shared","Sprite","Graphics","doBoundUpdate","updateBounds","canvasBounds","view","getBoundingClientRect","bounds","left","right","top","bottom","width","height","refresh","startup","onReady","ticker","add","draw","setup","console","log","isWebGLSupported","sayHello","load","pixels","showGrid","debugElem","document","getElementById","updateDebug","mousePos","innerHTML","JSON","stringify","Math","floor","decToHex","background","pixel","getPixel","update","stage","removeChild","graphic","setPixel","color","addChild","pos","scale","compose","canvas","createElement","context","getContext","imgData","createImageData","v","data","putImageData","url","toDataURL","link","href","setAttribute","click","this","beginFill","drawRect","endFill","c","hex","Number","toString","length","lineStyle","rgbToHex","alpha","mouseMove_timeout","TextureEditor","getCanvas","parent","editor","oncontextmenu","e","preventDefault","stopPropagation","appendChild","componentDidMount","addEventListener","event","clientX","clientY","clearTimeout","setTimeout","window","colorPicker","map","htmlFor","name","placeholder","onChange","updateColor","onKeyPress","key","match","defaultValue","onClick","clear","target","checked","bind","value","m","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.f5bff486.chunk.js","sourcesContent":["const mouse = {\r\n    position: {\r\n        x: 0,\r\n        y: 0,\r\n        old: { x: 0, y: 0 }\r\n    },\r\n    button: {\r\n        state: false,\r\n        id: 0,\r\n        origin: { x: null, y: null }\r\n    },\r\n    displacement: () => {\r\n        return {\r\n            x: mouse.position.old.x === null ? 0 : mouse.position.x - mouse.position.old.x,\r\n            y: mouse.position.old.y === null ? 0 : mouse.position.y - mouse.position.old.y\r\n        }\r\n    },\r\n    getPosition: (offset = null) => {\r\n        return offset === null\r\n        ?\r\n        {\r\n            x: mouse.position.x,\r\n            y: mouse.position.y\r\n        }\r\n        :\r\n        {\r\n                x: mouse.position.x - offset.x,\r\n                y: mouse.position.y - offset.y\r\n        }\r\n    },\r\n    inBounds: false,\r\n    moving: false,\r\n    clicked: false\r\n};\r\n\r\nmodule.exports = mouse;","import React from 'react';\r\n\r\nimport '../styles/nav-bar.css'\r\n\r\nclass NavBar extends React.Component {\r\n    render = () => {\r\n        return (\r\n            <div className='nav-bar'>\r\n                {/* <div className='nav-bar-button'>Button 1</div>\r\n                <div className='nav-bar-button'>Button 2</div>\r\n                <div className='nav-bar-button'>Button 3</div>\r\n                <div className='nav-bar-button'>Button 4</div>\r\n                <div className='nav-bar-button'>Button 5</div> */}\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport { NavBar }","import * as PIXI from 'pixi.js';\r\nimport mouse from './common/Mouse';\r\n\r\nclass Editor {\r\n    app;\r\n\r\n    currentColor = {\r\n        r: 0,\r\n        g: 0,\r\n        b: 0,\r\n        a: 255\r\n    };\r\n\r\n    width;\r\n    height;\r\n    scale;\r\n\r\n    debug = false;\r\n\r\n    type = \"WebGL\";\r\n\r\n    loader = PIXI.Loader.shared;\r\n    Sprite = PIXI.Sprite;\r\n    Graphics = PIXI.Graphics;\r\n\r\n    doBoundUpdate = true;\r\n    bounds;\r\n\r\n    updateBounds = () => {\r\n        let canvasBounds = this.app.view.getBoundingClientRect();\r\n\r\n        this.bounds = {\r\n            x: canvasBounds.x,\r\n            y: canvasBounds.y,\r\n            left: canvasBounds.left,\r\n            right: canvasBounds.right,\r\n            top: canvasBounds.top,\r\n            bottom: canvasBounds.bottom,\r\n            width: canvasBounds.width,\r\n            height: canvasBounds.height\r\n        };\r\n\r\n        this.doBoundUpdate = false;\r\n\r\n        this.refresh = true;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {PIXI.Application} app \r\n     * @returns {HTMLCanvasElement}\r\n     */\r\n    startup = () => {\r\n        this.onReady(() => this.app.ticker.add(() => this.draw()));\r\n\r\n        return this.app.view;\r\n    }\r\n\r\n    onReady = (setup) => {\r\n        console.log('App ready. Loading.');\r\n\r\n        if (!PIXI.utils.isWebGLSupported()) {\r\n            this.type = \"canvas\";\r\n        }\r\n\r\n        PIXI.utils.sayHello(this.type);\r\n\r\n        this.loader\r\n            .load(setup);\r\n    }\r\n\r\n    pixels = [];\r\n\r\n    showGrid = false;\r\n    refresh = true;\r\n\r\n    debugElem = document.getElementById('debug');\r\n    updateDebug = () => {\r\n        if (this.debugElem === null)\r\n            this.debugElem = document.getElementById('debug');\r\n\r\n        if (!this.debug) {\r\n            this.debugElem.innerHTML = \"\";\r\n            return;\r\n        }\r\n\r\n        let mousePos = mouse.getPosition();\r\n\r\n        this.debugElem.innerHTML =\r\n            `Mouse: ${JSON.stringify(mousePos)} --> ${Math.floor(mousePos.x / 16)}, ${Math.floor(mousePos.y / 16)}<br />` +\r\n            `Color: ${JSON.stringify(this.currentColor)}<br />` +\r\n            `0x${this.decToHex(this.currentColor.r)}${this.decToHex(this.currentColor.g)}${this.decToHex(this.currentColor.b)}`;\r\n    }\r\n\r\n    background = [];\r\n\r\n    draw = () => {\r\n        this.updateDebug();\r\n\r\n        let pixel;\r\n        for (let x = 0; x < 16; x++) {\r\n            for (let y = 0; y < 16; y++) {\r\n                pixel = this.getPixel(x, y);\r\n\r\n                if (pixel.update || this.refresh) {\r\n                    this.app.stage.removeChild(pixel.graphic);\r\n\r\n                    if (this.refresh)\r\n                        this.setPixel(x, y, pixel.color);\r\n\r\n                    if (pixel.color.a < 255)\r\n                        this.app.stage.addChild(this.background[y * 16 + x]);\r\n                    else\r\n                        this.app.stage.removeChild(this.background[y * 16 + x]);\r\n\r\n                    if (pixel.color.a > 0)\r\n                        this.app.stage.addChild(pixel.graphic);\r\n\r\n                    pixel.update = false;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (mouse.button.state) {\r\n            let pos = mouse.getPosition();\r\n            let x = Math.floor(pos.x / this.scale),\r\n                y = Math.floor(pos.y / this.scale);\r\n\r\n            if (x >= 0 && x < 16 && y >= 0 && y < 16) {\r\n                if (mouse.button.id === 0)\r\n                    this.setPixel(x, y, this.currentColor);\r\n                else if (mouse.button.id === 2)\r\n                    this.setPixel(x, y, { r: 0, g: 0, b: 0, a: 0 });\r\n\r\n                this.getPixel(x, y).update = true;\r\n            }\r\n            if (!mouse.inBounds)\r\n                mouse.button.state = false;\r\n        }\r\n\r\n        this.refresh = false;\r\n    }\r\n\r\n    decToHex(c) {\r\n        var hex = Number(c).toString(16);\r\n        return hex.length === 1 ? `0${hex}` : hex;\r\n    }\r\n\r\n    clear() {\r\n        console.log('Clearing...')\r\n\r\n        for (let x = 0; x < 16; x++) {\r\n            for (let y = 0; y < 16; y++) {\r\n                this.setPixel(x, y, { r: 0, g: 0, b: 0, a: 0 });\r\n                this.getPixel(x, y).update = true;\r\n            }\r\n        }\r\n    }\r\n\r\n    rgbToHex(r, g, b) {\r\n        return Number(`0x${this.decToHex(r)}${this.decToHex(g)}${this.decToHex(b)}`);\r\n    }\r\n\r\n    getPixel(x, y) {\r\n        return !this.pixels[x] ? null : !this.pixels[x][y] ? null : this.pixels[x][y];\r\n    }\r\n\r\n    setPixel(x, y, color) {\r\n        if (!this.pixels[x] || !this.pixels[x][y]) {\r\n            this.pixels[x][y] = {\r\n                color,\r\n                graphic: new this.Graphics(),\r\n                update: false\r\n            }\r\n        }\r\n\r\n        let pixel = this.getPixel(x, y);\r\n\r\n        pixel.graphic = new this.Graphics();\r\n\r\n        if (this.showGrid)\r\n            pixel.graphic.lineStyle(1, 0x000000, 1);\r\n\r\n        pixel.graphic.beginFill(this.rgbToHex(color.r, color.g, color.b));\r\n        pixel.graphic.drawRect(0, 0, this.scale, this.scale);\r\n        pixel.graphic.endFill();\r\n\r\n        pixel.graphic.alpha = color.a / 255;\r\n\r\n        pixel.graphic.x = x * this.scale;\r\n        pixel.graphic.y = y * this.scale;\r\n    }\r\n\r\n    compose = () => {\r\n        const canvas = document.createElement('canvas'), context = canvas.getContext('2d');\r\n        canvas.width = 16;\r\n        canvas.height = 16;\r\n\r\n        let imgData = context.createImageData(16, 16);\r\n\r\n        for (let x = 0; x < 16; x++) {\r\n            for (let y = 0; y < 16; y++) {\r\n                let v = (y * 16 + x) * 4\r\n                imgData.data[v] = this.pixels[x][y].color.r;\r\n                imgData.data[v + 1] = this.pixels[x][y].color.g;\r\n                imgData.data[v + 2] = this.pixels[x][y].color.b;\r\n                imgData.data[v + 3] = this.pixels[x][y].color.a;\r\n            }\r\n        }\r\n\r\n        context.putImageData(imgData, 0, 0);\r\n\r\n        const url = canvas.toDataURL('image/png');\r\n        let link = document.createElement('a');\r\n        link.href = url;\r\n        link.setAttribute('download', 'texture.png');\r\n        link.click();\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param {PIXI.Application} app \r\n     */\r\n    constructor(app) {\r\n        this.app = app;\r\n\r\n        this.width = app.view.width;\r\n        this.height = app.view.height;\r\n        this.scale = this.width / 16;\r\n\r\n        this.pixels = [];\r\n\r\n        for (let x = 0; x < 16; x++) {\r\n            this.pixels[x] = [];\r\n            for (let y = 0; y < 16; y++) {\r\n                this.background[y * 16 + x] = new this.Graphics();\r\n                this.background[y * 16 + x].beginFill((x % 2 === 0 && y % 2 === 1) || (x % 2 === 1 && y % 2 === 0) ? 0xFFFFFF : 0xDDDDDD);\r\n                this.background[y * 16 + x].drawRect(0, 0, this.scale, this.scale);\r\n                this.background[y * 16 + x].endFill();\r\n\r\n                this.background[y * 16 + x].x = x * this.scale;\r\n                this.background[y * 16 + x].y = y * this.scale;\r\n\r\n                this.setPixel(x, y, { r: 255 * x / 15, g: 0, b: 255 * y / 15, a: Math.floor((255 * x / 15 + 255 * y / 15) / 2) });\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport {\r\n    Editor\r\n}","import React from 'react';\r\nimport * as PIXI from 'pixi.js';\r\n\r\nimport * as editor from '../app/texture-editor/editor';\r\nimport mouse from '../app/texture-editor/common/Mouse';\r\n\r\nimport '../styles/texture-editor.css';\r\n\r\nlet mouseMove_timeout = null;\r\n\r\nclass TextureEditor extends React.Component {\r\n    app;\r\n\r\n    canvas;\r\n\r\n    doBoundUpdate = true;\r\n\r\n    /**\r\n     * @type {editor.Editor}\r\n     */\r\n    editor;\r\n\r\n    getCanvas = () => {\r\n        let parent = document.getElementById('texture_editor_wrapper');\r\n\r\n        let scale = parent.getBoundingClientRect().width - 200;\r\n\r\n        this.app = new PIXI.Application({\r\n            width: scale,\r\n            height: scale\r\n        });\r\n\r\n        this.editor = new editor.Editor(this.app);\r\n\r\n        this.app.view.oncontextmenu = (e) => { e.preventDefault(); e.stopPropagation(); }\r\n        this.app.view.id = \"editor\";\r\n\r\n        this.canvas = this.editor.startup();\r\n\r\n\r\n        parent.appendChild(this.canvas);\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.getCanvas();\r\n        this.editor.updateBounds();\r\n\r\n        this.canvas.addEventListener('mousemove', (event) => {\r\n            mouse.position.old = {\r\n                x: Math.floor(mouse.position.x),\r\n                y: Math.floor(mouse.position.y)\r\n            };\r\n\r\n            mouse.position.x = Math.floor(event.clientX - this.editor.bounds.left);\r\n            mouse.position.y = Math.floor(event.clientY - this.editor.bounds.top);\r\n\r\n            mouse.moving = true;\r\n\r\n            if (mouseMove_timeout)\r\n                clearTimeout(mouseMove_timeout);\r\n\r\n            mouseMove_timeout = setTimeout(() => {\r\n                mouse.position.old = {\r\n                    x: Math.floor(mouse.position.x),\r\n                    y: Math.floor(mouse.position.y)\r\n                };\r\n                mouse.moving = false;\r\n            }, 30);\r\n        });\r\n\r\n        this.canvas.addEventListener('mousedown', (event) => {\r\n            mouse.button.state = true;\r\n            mouse.button.id = event.button;\r\n        });\r\n\r\n        this.canvas.addEventListener('mouseup', () => {\r\n            mouse.button.state = false;\r\n            mouse.button.id = null;\r\n        });\r\n\r\n        this.canvas.addEventListener('mouseleave', () => mouse.inBounds = false);\r\n\r\n        this.canvas.addEventListener('mouseenter', () => mouse.inBounds = true);\r\n\r\n        this.canvas.addEventListener('click', () => mouse.clicked = true);\r\n\r\n        window.addEventListener('resize', () => {\r\n            this.editor.updateBounds();\r\n        });\r\n    }\r\n\r\n    updateColor(event) {\r\n        if (event.target.value > 255)\r\n            event.target.value = 255;\r\n\r\n        let m = event.target.name.match(/rgb_([rgba])/)[1];\r\n        this.editor.currentColor[m] = event.target.value === '' ? 0 : event.target.value;\r\n    }\r\n\r\n    colorPicker = () => {\r\n        let list = ['r', 'g', 'b', 'a'];\r\n\r\n        return (\r\n            <div className='color-picker-container'>\r\n                {list.map(v => (\r\n                    <div key={`rgb_${v}_div`} className='rgb-input-container'>\r\n                        <label htmlFor={`rgb_${v}`} className='rgb-input-label'>{v}</label>\r\n                        <input key={v} name={`rgb_${v}`} type='text' className='rgb-input-field' placeholder='0' onChange={this.updateColor} onKeyPress={(event) => {\r\n                            if (!event.key.match(/[0-9]/))\r\n                                event.preventDefault();\r\n                        }} defaultValue={v === 'a' ? 255 : 0}/>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    render = () => {\r\n        return (\r\n            <div>\r\n                <div className='texture-editor-container' id='texture_editor_container'>\r\n                    <div className='texture-editor-wrapper' id='texture_editor_wrapper'></div>\r\n                    <this.colorPicker />\r\n                    <div className='texture-editor-controls'>\r\n                        <button onClick={() => {\r\n                            this.editor.showGrid = !this.editor.showGrid;\r\n                            this.editor.refresh = true;\r\n                        }}>Toggle Grid</button>\r\n                        <button onClick={() => this.editor.clear()}>Clear</button>\r\n                    </div>\r\n\r\n                    <button onClick={() => this.editor.compose()}>Download</button>\r\n                </div>\r\n                <label id='debug_check_label' htmlFor='debug-check'>Debug</label>\r\n                <input name='debug-check' type='checkbox' onChange={(event) => {\r\n                    this.editor.debug = event.target.checked;\r\n                }}></input>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        this.updateColor = this.updateColor.bind(this);\r\n    }\r\n}\r\n\r\nexport { TextureEditor }","import './styles/App.css';\n\n// import { ConfigForm } from './components/ConfigGUI';\nimport { NavBar } from './components/NavBar';\nimport { TextureEditor } from './components/TextureEditor';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header><NavBar /></header>\n      <main>\n        <TextureEditor />\n        {/* <ConfigForm /> */}\n        <div id='debug'></div>\n      </main>\n      <footer>\n        <div>Built by ChrisOfNormandy.</div>\n        <div>Join <a href='https://discord.gg/EW5JsGJfdt'>Discord</a></div>\n      </footer>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}