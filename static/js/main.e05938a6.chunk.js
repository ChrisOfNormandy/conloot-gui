(this["webpackJsonpconloot-gui"]=this["webpackJsonpconloot-gui"]||[]).push([[0],{27:function(e,t,n){},28:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},50:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),o=n(18),r=n.n(o),c=n(2),s=n(6),l=n(3),u=n(5),d=n(4);n(27),n(28);function h(e,t,n){if(n.length>=0)return function(e,t){return"".concat(e," = [").concat(t.join(", "),"]\n")}(t,n);var i="".concat(null===e?"":"".concat(e,".")).concat(null!==t?t.includes(" ")?'"'.concat(t,'"'):t:""),a=null===t?"":"[".concat(i,"]\n");for(var o in n)a+=h(null!==t?i:null,o,n[o]);return a}function b(e){return h(null,null,e)}var p=n(0),f=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={values:[],fields:[],checkboxes:["all","block","slab","stairs","wall","fence"]},i.updateName=i.updateName.bind(Object(l.a)(i)),i.updateMaterial=i.updateMaterial.bind(Object(l.a)(i)),i.handleSubmit=i.handleSubmit.bind(Object(l.a)(i)),i.checkBox=i.checkBox.bind(Object(l.a)(i)),i.checkRow=i.checkRow.bind(Object(l.a)(i)),i}return Object(s.a)(n,[{key:"updateName",value:function(e){var t=this.state.values,n=e.target.name.match(/(\d+)/)[1];t[n]||(t[n]={}),t[n].name=e.target.value;var i=this.state;i.values=t,this.setState(i)}},{key:"updateMaterial",value:function(e){var t=this.state.values,n=e.target.name.match(/(\d+)/)[1];t[n]||(t[n]={}),t[n].material=e.target.value;var i=this.state;i.values=t,this.setState(i)}},{key:"addInput",value:function(){this.fields.push({key:this.fields.length,value:"",placeholder:"my_block_".concat(this.fields.length)});var e=this.state.values;e.push({});var t=this.state;t.values=e,this.setState(t)}},{key:"removeInput",value:function(){this.fields.splice(-1,1);var e=this.state.values;e.splice(-1,1);var t=this.state;t.values=e,this.setState(t)}},{key:"handleSubmit",value:function(e){var t={},n={Blocks:{Suite:{"String Lists":{wood_suite_list:[],stone_suite_list:[]}},Redstone:{"String Lists":{fence_gate_list:[],door_list:[],trapdoor_list:[]}},Generic:{"String Lists":{slab_list:[],wall_list:[],block_list:[],stairs_list:[],fence_list:[]}},Interactive:{"String Lists":{barrel_list:[],shulker_list:[]}}},UI:{ItemGroups:{"String Lists":{tabs:[]}}},Items:{Tool:{"String Lists":{pickaxe_list:[],axe_list:[],hoe_list:[],shovel_list:[]}}},Resources:{Ores:{"String Lists":{gem_list:[],metal_list:[]}},Plants:{"String Lists":{crop_list:[]}}},WorldGen:{Biomes:{"String Lists":{biome_list:[]}}}};this.state.values.forEach((function(e,i){t[e.name]||(t[e.name]=e,e.all?"wood"===e.material?n.Blocks.Suite["String Lists"].wood_suite_list.push('"'.concat(e.name,'"')):n.Blocks.Suite["String Lists"].stone_suite_list.push('"'.concat(e.name,'"')):(e.block&&n.Blocks.Generic["String Lists"].block_list.push('"'.concat(e.name,'"')),e.slab&&n.Blocks.Generic["String Lists"].slab_list.push('"'.concat(e.name,'"')),e.stairs&&n.Blocks.Generic["String Lists"].stairs_list.push('"'.concat(e.name,'"')),e.wall&&n.Blocks.Generic["String Lists"].wall_list.push('"'.concat(e.name,'"')),e.fence&&n.Blocks.Generic["String Lists"].fence_list.push('"'.concat(e.name,'"'))))})),alert("A name was submitted: "+JSON.stringify(t)),e.preventDefault(),function(e){var t=new Blob([b(e)],{type:"application/toml"}),n=window.URL.createObjectURL(t),i=document.getElementById("download_link");i.href=n,i.setAttribute("download","conloot.toml"),i.click()}(n)}},{key:"checkRow",value:function(e){this.checkboxes.map((function(t){return document.getElementById("".concat(e,"_cb_").concat(t)).checked=!0}))}},{key:"checkBox",value:function(e){var t=e.target.name.match(/(\d+)_cb_(\w+)/),n=t[1],i=t[2],a=this.state.values;if(a[n]||(a[n]={}),"all"===i&&e.target.checked){this.checkRow(n);for(var o=1;o<this.checkboxes.length;o++)a[n][this.checkboxes[o]]=!0}a[n][i]=e.target.checked;var r=this.state;r.values=a,this.setState(r)}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"config-gui-container",children:[Object(p.jsx)("h1",{children:"Config Generator"}),Object(p.jsxs)("div",{className:"form-container",children:[Object(p.jsx)("a",{id:"download_link",href:"/file.txt",download:!0,style:{display:"none"},children:"_"}),Object(p.jsxs)("form",{className:"form-body",onSubmit:this.handleSubmit,children:[Object(p.jsx)("ul",{className:"form-input-list",children:this.state.fields.map((function(t){return Object(p.jsxs)("li",{className:"form-input-list-item",children:[Object(p.jsxs)("label",{htmlFor:t.key,children:["Block ",t.key+1]}),Object(p.jsx)("input",{className:"form-input",name:"".concat(t.key,"_content"),defaultValue:t.value,placeholder:t.placeholder,onChange:e.updateName,required:!0,onKeyPress:function(e){null===e.key.match(/[a-zA-Z_0-9]/)&&e.preventDefault()}},t.key),Object(p.jsx)("input",{className:"form-input",name:"".concat(t.key,"_material"),defaultValue:"",placeholder:"stone | wood | etc...",onChange:e.updateMaterial},"".concat(t.key,"_material")),Object(p.jsx)("div",{className:"form-checkbox-container",children:e.checkboxes.map((function(n){return Object(p.jsxs)("div",{children:[Object(p.jsx)("label",{htmlFor:"".concat(t.key,"_rb_").concat(n),children:"".concat(n)}),Object(p.jsx)("input",{className:"form-input-checkbox",id:"".concat(t.key,"_cb_").concat(n),name:"".concat(t.key,"_cb_").concat(n),type:"checkbox",onChange:e.checkBox},"".concat(t.key,"_cb_").concat(n))]},"checkbox_group_".concat(n))}))})]},t.key)}))}),Object(p.jsx)("input",{className:"form-input-submit",type:"submit",value:"Submit"})]}),Object(p.jsxs)("div",{className:"form-button-container",children:[Object(p.jsx)("div",{className:"form-button",onClick:function(t){e.addInput(t)},children:"Add"}),Object(p.jsx)("div",{className:"form-button",onClick:function(t){e.removeInput(t)},children:"Remove"})]})]})]})}}]),n}(a.a.Component),m=n(8),g={position:{x:0,y:0,old:{x:0,y:0},document:{x:0,y:0}},button:{state:!1,id:0,origin:{x:null,y:null}},displacement:function(){return{x:null===g.position.old.x?0:g.position.x-g.position.old.x,y:null===g.position.old.y?0:g.position.y-g.position.old.y}},getPosition:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null===e?{x:g.position.x,y:g.position.y}:{x:g.position.x-e.x,y:g.position.y-e.y}},inBounds:!1,moving:!1,clicked:!1},v=g;function y(e){var t=Number(e).toString(16);return 1===t.length?"0".concat(t):t}function x(e){return parseInt(e,16)}function j(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Number("0x".concat(y(e)).concat(y(t)).concat(y(n)).concat(null!==i?y(i):""))}function O(e){return j(e.r,e.g,e.b)}function k(e,t,n){return Math.floor(t*n+e*(1-n))}function _(e,t){return 0===e.a?t:0!==t.a&&t?{r:k(e.r,t.r,t.a/255),g:k(e.g,t.g,t.a/255),b:k(e.b,t.b,t.a/255),a:e.a+t.a>255?255:e.a+t.a}:e}var w=function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(Object(c.a)(this,e),this.visable=!0,this.opacity=255,this.pixels=[],this.clear=function(){n.pixels.forEach((function(e){return n.setPixel(e.x,e.y,null)}))},this.getPixel=function(e,t){return n.visable?n.pixels[t*n.resolution+e]?n.pixels[t*n.resolution+e]:null:{x:e,y:t,changed:n.pixels[t*n.resolution+e].changed,color:{r:0,g:0,b:0,a:0}}},this.toggle=function(){n.visable=!n.visable,n.editor.refresh=!0},this.updatePixel=function(e,t,i){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,r=n.getPixel(e,t);return null===r||r.changed&&!a?null:(null===o?(r.color=null===i?{r:0,g:0,b:0,a:0}:_(r.color,i),r.changed=!0):r.color.a=r.color.a/255*o,r)},this.setPixel=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n.pixels[t*n.resolution+e]={color:null===i?{r:0,g:0,b:0,a:0}:i,x:e,y:t,changed:!1},n.pixels[t*n.resolution+e]},this.editor=t,this.resolution=t.resolution,null===i){var a=this.editor.layers.cache.map((function(e){return e.name}));if(a.length){var o=1;for(this.name="Layer ".concat(o);a.includes(this.name);)this.name="Layer ".concat(o),o++}else this.name="Layer 1"}else this.name=i;for(var r=0;r<t.resolution;r++)for(var s=0;s<t.resolution;s++)this.setPixel(r,s)};var C=m.d.shared,N=m.c,S={app:null,display:{backgroundGroup:new m.b,imageGroup:new m.b,gridGroup:new m.b},resolution:0,refresh:!1,width:0,height:0,scale:0,debug:{enabled:!0,element:document.getElementById("debug"),update:function(){var e=v.getPosition(),t=Math.floor(e.x/S.scale),n=Math.floor(e.y/S.scale);S.image.pixels[n*S.resolution+t]&&(S.debug.element.innerHTML="Mouse: ".concat(JSON.stringify(e)," --\x3e ").concat(t,", ").concat(n,"<br />")+" - ".concat(JSON.stringify(v.position.document),"<br />")+" - ".concat(S.scale,"<br />")+"Brush:<br />"+" - Pos: ".concat(S.brush.cursor.position.x,", ").concat(S.brush.cursor.position.y," --\x3e ").concat(S.brush.cursor.position.x+S.brush.size-1,", ").concat(S.brush.cursor.position.y+S.brush.size-1,"<br />")+" - Style: ".concat(S.brush.style,"<br />")+"Cursor: ".concat(JSON.stringify(S.brush.cursor.position),"<br />")+"Zoom: ".concat(S.zoomSettings.width,", ").concat(S.zoomSettings.height," | ").concat(S.zoomSettings.value,"<br />")+" - ".concat(JSON.stringify(S.zoomSettings.offset)))}},offset:{x:0,y:0,dx:0,dy:0},zoomSettings:{scale:0,width:0,height:0,offset:{x:0,y:0},value:0},brush:{style:"pencil",fill:{r:0,g:0,b:0,a:255},size:1,mousePos:null,cursor:{position:{x:0,y:0,old:{x:0,y:0}},graphic:null,focus:null},preview:null,getStyle:function(){return S.brush.style},setStyle:function(e){switch(e){case"eraser":S.brush.cursor.graphic.tint=16777215,S.brush.cursor.graphic.alpha=1;break;case"fill":case"color-picker":S.brush.cursor.graphic.alpha=0;break;default:S.brush.cursor.graphic.tint=j(S.brush.fill.r,S.brush.fill.g,S.brush.fill.b),S.brush.cursor.graphic.alpha=S.brush.fill.a/255}S.brush.style=e},getColor:function(){return{r:S.brush.fill.r,g:S.brush.fill.g,b:S.brush.fill.b,a:S.brush.fill.a}},setColor:function(e){S.brush.cursor.graphic.tint=j(e.r,e.g,e.b),S.brush.cursor.graphic.alpha=e.a/255,S.brush.fill=e},getSize:function(){return S.brush.size},setSize:function(e){S.brush.size=e},updateCursor:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];S.brush.mousePos=v.getPosition(),S.brush.mousePos.x-=S.zoomSettings.offset.x+S.offset.x,S.brush.mousePos.y-=S.zoomSettings.offset.y+S.offset.y,S.brush.cursor.position.old.x=S.brush.cursor.position.x,S.brush.cursor.position.old.y=S.brush.cursor.position.y,S.brush.cursor.position.x=Math.floor((S.brush.mousePos.x-(S.brush.size-1)/2*S.scale)/S.scale),S.brush.cursor.position.y=Math.floor((S.brush.mousePos.y-(S.brush.size-1)/2*S.scale)/S.scale),S.brush.cursor.position.old.x===S.brush.cursor.position.x&&S.brush.cursor.position.old.y===S.brush.cursor.position.y||(S.brush.cursor.graphic.x=S.brush.cursor.position.x*S.scale+S.zoomSettings.offset.x+S.offset.x,S.brush.cursor.graphic.y=S.brush.cursor.position.y*S.scale+S.zoomSettings.offset.y+S.offset.y),e&&(S.brush.cursor.graphic.tint=j(S.brush.fill.r,S.brush.fill.g,S.brush.fill.b),S.brush.cursor.graphic.alpha=S.brush.fill.a/255),t&&(S.brush.cursor.graphic.width=S.scale*S.brush.size,S.brush.cursor.graphic.height=S.scale*S.brush.size)}},layers:{cache:[],active:0,get:function(e){return S.layers.cache[e]},getActive:function(){return S.layers.cache[S.layers.active]},add:function(){var e=S.layers.cache.length,t=new w(B);return S.layers.cache.push(t),S.layers.active=e,t},remove:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return S.layers.cache.splice(e,1),S.layers.reload(),S.layers},move:function(e,t){var n=S.layers.cache.splice(e,1)[0];return S.layers.cache.splice(t,0,n),S.layers.reload(),n},clear:function(){S.layers.cache=[]},toggle:function(e){S.layers.cache[e].visable=!S.layers.cache[e].visable,S.layers.reload()},reload:function(){S.refresh=!0}},bounds:{doUpdate:!1,value:null,update:function(){return S.bounds.value=S.app.view.getBoundingClientRect(),S.bounds.doUpdate=!1,S.bounds.value}},startup:function(){return S.onReady((function(){return S.app.ticker.add((function(){return S.draw()}))})),S.app.view},onReady:function(e){console.log("App ready. Loading."),C.load(e)},grid:{enabled:!1,show:function(){S.app.stage.removeChild(S.display.gridGroup),S.app.stage.addChild(S.display.gridGroup)},toggle:function(){return S.grid.enabled=!S.grid.enabled,S.grid.enabled?S.app.stage.addChild(S.display.gridGroup):S.app.stage.removeChild(S.display.gridGroup),S.grid.enabled}},draw:function(){if(null!==S.debug.element){if(S.debug.enabled?(S.debug.element.classList.contains("hidden")&&S.debug.element.classList.remove("hidden"),S.debug.update()):S.debug.element.classList.contains("hidden")||S.debug.element.classList.add("hidden"),S.refresh)return S.image.pixels.forEach((function(e){S.image.updatePixel(e.x,e.y),S.app.stage.removeChild(e.graphic),S.app.stage.addChild(e.graphic)})),S.app.stage.removeChild(S.brush.cursor.graphic),S.app.stage.addChild(S.brush.cursor.graphic),S.grid.enabled&&S.grid.show(),void(S.refresh=!1);S.image.buffer.forEach((function(e,t){S.image.updatePixel(e.x,e.y),e.changed?v.button.state||(e.changed=!1):S.image.buffer.splice(t,1)})),S.brush.updateCursor();var e,t,n,i,a,o,r=S.layers.getActive();if(r)if(v.clicked)switch(S.brush.style){case"fill":var c={x:S.brush.cursor.position.x,y:S.brush.cursor.position.y},s={color:r.getPixel(c.x,c.y).color};t=S.brush.getColor(),n=!1,i=null;var l=[];!function a(o){var c=r.getPixel(o.x,o.y);null===c||!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;return Math.abs(e.r-t.r)<=n&&Math.abs(e.g-t.g)<=n&&Math.abs(e.b-t.b)<=n&&Math.abs(e.a-t.a)<=n}(c.color,s.color)||o.x<0||o.y>=S.resolution||o.y<0||o.y>=S.resolution||null!==(e=l.includes(o)?null:r.updatePixel(o.x,o.y,t,n,i))&&(S.image.buffer.push(e),l.push(o),a({x:o.x-1,y:o.y}),a({x:o.x+1,y:o.y}),a({x:o.x,y:o.y-1}),a({x:o.x,y:o.y+1}))}(c);break;case"color-picker":var u=r.getPixel(S.brush.cursor.position.x,S.brush.cursor.position.y).color;S.brush.setColor(u),S.brush.preview.update(),S.brush.updateCursor(!0)}else if(v.button.state&&0===v.button.id)switch(S.brush.style){case"fill":case"color-picker":break;default:for(var d=S.brush.cursor.position.x<0?0:S.brush.cursor.position.x;d<S.brush.cursor.position.x+S.brush.size&&d<S.resolution;d++)for(var h=S.brush.cursor.position.y<0?0:S.brush.cursor.position.y;h<S.brush.cursor.position.y+S.brush.size&&h<S.resolution;h++){switch(S.brush.style){case"paint":(t=S.brush.getColor()).a=S.brush.fill.a/255*Math.floor(255*(1-(a={x:S.brush.cursor.position.x+Math.floor(S.brush.size/2),y:S.brush.cursor.position.y+Math.floor(S.brush.size/2)},o={x:d,y:h},(Math.abs(o.x-a.x)+Math.abs(o.y-a.y))/Math.round(S.brush.size/2)))),t.a<0&&(t.a=0),n=S.brush.cursor.position.old.x!==S.brush.cursor.position.x||S.brush.cursor.position.old.y!==S.brush.cursor.position.y,i=null;break;case"eraser":t=null,n=S.brush.cursor.position.old.x!==S.brush.cursor.position.x||S.brush.cursor.position.old.y!==S.brush.cursor.position.y,i=0;break;default:t=S.brush.getColor(),n=!1,i=null}null!==(e=r.updatePixel(d,h,t,n,i))&&S.image.buffer.push(e)}}v.inBounds||(v.button.state=!1),v.clicked=!1}else S.debug.element=document.getElementById("debug")},image:{pixels:[],buffer:[],setPixel:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return S.image.pixels[t*S.resolution+e]={graphic:new N,color:null===n?{r:0,g:0,b:0,a:0}:n,changed:!1,x:e,y:t},S.image.pixels[t*S.resolution+e].graphic.beginFill(16777215),S.image.pixels[t*S.resolution+e].graphic.drawRect(0,0,S.scale,S.scale),S.image.pixels[t*S.resolution+e].graphic.endFill(),S.image.pixels[t*S.resolution+e].graphic.tint=O(S.image.pixels[t*S.resolution+e].color),S.image.pixels[t*S.resolution+e].graphic.alpha=S.image.pixels[t*S.resolution+e].color.a/255,S.image.pixels[t*S.resolution+e].graphic.x=e*S.scale,S.image.pixels[t*S.resolution+e].graphic.y=t*S.scale,S.image.pixels[t*S.resolution+e]},getPixel:function(e,t){return S.image.pixels[t*S.resolution+e]||null},updatePixel:function(e,t){S.image.pixels[t*S.resolution+e]||S.image.setPixel(e,t);var n=null;S.layers.cache.forEach((function(i){if(i.visable){var a=i.getPixel(e,t).color;0!==a.a&&(n=null===n?a:_(a,n))}})),S.image.pixels[t*S.resolution+e].color=n||{r:0,g:0,b:0,a:0},S.image.pixels[t*S.resolution+e].graphic.tint=O(S.image.pixels[t*S.resolution+e].color),S.image.pixels[t*S.resolution+e].graphic.alpha=S.image.pixels[t*S.resolution+e].color.a/255},compose:function(){var e=document.createElement("canvas"),t=e.getContext("2d");e.width=S.resolution,e.height=S.resolution;for(var n,i=t.createImageData(S.resolution,S.resolution),a=0;a<S.resolution;a++)for(var o=0;o<S.resolution;o++){var r=4*(o*S.resolution+a);n=S.image.getPixel(a,o).color,i.data[r]=n.r,i.data[r+1]=n.g,i.data[r+2]=n.b,i.data[r+3]=n.a}t.putImageData(i,0,0);var c=e.toDataURL("image/png"),s=document.createElement("a");s.href=c;var l=document.getElementById("image_name").value;s.setAttribute("download","".concat(l||"texture",".png")),s.click()},clear:function(){S.layers.cache.forEach((function(e){return e.clear()})),S.refresh=!0}},zoom:function(e){if(!(e&&S.zoomSettings.scale<=-9||!e&&S.zoomSettings.scale>=20)){for(var t in S.zoomSettings.scale+=e?-1:1,S.zoomSettings.value=S.zoomSettings.scale<0?(10+S.zoomSettings.scale)/10:1+S.zoomSettings.scale/10,S.zoomSettings.width=(S.app.view.width<S.app.view.height?S.app.view.width:S.app.view.height)*S.zoomSettings.value,S.zoomSettings.height=S.zoomSettings.width,S.zoomSettings.offset.x=(S.app.view.width-S.zoomSettings.width)/2,S.zoomSettings.offset.y=(S.app.view.height-S.zoomSettings.height)/2,S.display)S.display[t].width=S.zoomSettings.width,S.display[t].height=S.zoomSettings.height,S.display[t].x=S.zoomSettings.offset.x,S.display[t].y=S.zoomSettings.offset.y;S.scale=(S.display.imageGroup.width<S.display.imageGroup.height?S.display.imageGroup.width:S.display.imageGroup.height)/S.resolution,S.scale*=S.zoomSettings.value,S.brush.updateCursor(!1,!0)}},create:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16;if(null!==S.app)for(;S.app.stage.children[0];)S.app.stage.removeChild(S.app.stage.children[0]);S.app=e,S.resolution=t,S.width=e.view.width,S.height=e.view.height,S.scale=(S.width<S.height?S.width:S.height)/S.resolution,S.image.pixels=[],S.layers.clear(),S.layers.add(),S.brush.cursor.graphic=new N,S.brush.cursor.graphic.beginFill(16777215),S.brush.cursor.graphic.drawRect(0,0,S.scale,S.scale),S.brush.cursor.graphic.endFill();for(var n,i=S.layers.get(S.layers.active),a=0;a<S.resolution;a++){for(var o=0;o<S.resolution;o++){(n=new N).beginFill(16777215),n.drawRect(0,0,S.scale,S.scale),n.endFill(),n.tint=a%2===0&&o%2===1||a%2===1&&o%2===0?16777215:14540253,n.x=a*S.scale,n.y=o*S.scale,S.display.backgroundGroup.addChild(n),S.display.imageGroup.addChild(S.image.setPixel(a,o).graphic),i.setPixel(a,o,S.image.pixels[o*S.resolution+a].color);var r=new m.c;r.lineStyle(1,0,1),r.moveTo(0,o*S.scale),r.lineTo(S.resolution*S.scale,o*S.scale),S.display.gridGroup.addChild(r)}var c=new m.c;c.lineStyle(1,0,1),c.moveTo(a*S.scale,0),c.lineTo(a*S.scale,S.resolution*S.scale),S.display.gridGroup.addChild(c)}for(var s in S.offset.x=S.width/2-S.resolution*S.scale/2,S.offset.y=S.height/2-S.resolution*S.scale/2,S.display)S.display[s].x=S.offset.x,S.display[s].y=S.offset.y;return S.brush.updateCursor(!0,!0),S.app.stage.addChild(S.display.backgroundGroup,S.display.imageGroup),S.app.stage.addChild(S.brush.cursor.graphic),S.zoom(!0),S}},B=S;var E=function(e){return Object(p.jsx)("div",{id:e.id,className:"menu".concat(e.hidden?" hidden":""),children:e.content.map((function(e,t){return Object(p.jsx)("div",{className:"menu-item",children:e},t)}))})},L=(n(37),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={editor:e.editor,content:[{key:"File",id:"file_menu",value:Object(p.jsx)(E,{content:[Object(p.jsx)("div",{className:"menu-button",onClick:function(){return i.state.editor.image.compose()},children:"Download"}),Object(p.jsx)("div",{className:"menu-break"}),Object(p.jsxs)("div",{className:"menu-button",children:[Object(p.jsx)("label",{id:"debug_check_label",htmlFor:"debug-check",children:"Debug"}),Object(p.jsx)("input",{name:"debug-check",type:"checkbox",onChange:function(e){var t=i.state;t.editor.debug.enabled=e.target.checked,i.setState(t)}})]})],id:"file_menu",hidden:!0})},{key:"Edit",id:"edit_menu",value:Object(p.jsx)(E,{content:[Object(p.jsx)("div",{className:"menu-button",onClick:function(){return i.state.editor.image.clear()},children:"Clear"})],id:"edit_menu",hidden:!0})},{key:"View",id:"view_menu",value:Object(p.jsx)(E,{content:[Object(p.jsx)("div",{className:"menu-button",onClick:function(){i.state.editor.grid.toggle()},children:"Toggle Grid"})],id:"view_menu",hidden:!0})}]},i.setResolution=i.setResolution.bind(Object(l.a)(i)),i}return Object(s.a)(n,[{key:"setResolution",value:function(e){e.preventDefault();var t=Number(document.getElementById("resolution_input").value);if(!isNaN(t)){var n=this.state;t%16===0&&t>0&&t<=128&&(n.editor=n.editor.create(this.editor.app,t)),this.setState(n)}}},{key:"componentDidMount",value:function(){var e=[];this.state.content.forEach((function(t){return e.push(document.getElementById(t.id))})),document.addEventListener("click",(function(t){e.forEach((function(e){e.parentElement.contains(t.target)||e.classList.add("hidden")}))}))}},{key:"render",value:function(){return Object(p.jsx)("div",{className:"texture-editor-ribbon",children:this.state.content.map((function(e){return Object(p.jsxs)("div",{className:"ribbon-menu",children:[Object(p.jsx)("div",{className:"ribbon-menu-button",onClick:function(){document.getElementById(e.id).classList.toggle("hidden")},children:e.key}),e.value]},e.key)}))})}}]),n}(a.a.Component));n(38),n(39);function I(e){return e.content()}var z=function(e){var t=e.id,n=e.content,i=null,a=document.getElementById(t);return Object(p.jsx)("div",{className:"floater-container",id:t,onMouseDown:function(e){var t=a.getBoundingClientRect(),n=e.clientX-t.x,o=e.clientY-t.y;o>16||(i={x:n,y:o})},onMouseUp:function(){i=null},onMouseMove:function(e){return function(e,t,n){if(null!==t){var i=e.clientX-t.x,a=e.clientY-t.y,o=n.getBoundingClientRect(),r=n.parentElement.getBoundingClientRect();i>r.left&&i+o.width<r.right&&(n.style.left="".concat(i,"px")),a>r.top&&a+o.height<r.bottom&&(n.style.top="".concat(a,"px"))}}(e,i,a)},children:Object(p.jsx)(I,{content:n})})},P=n.p+"static/media/pencil.e99a4c16.svg",M=[{key:"pencil",icon:P},{key:"paint",icon:n.p+"static/media/paintbrush.f6d07354.svg"},{key:"eraser",icon:n.p+"static/media/eraser.4da23591.svg"},{key:"fill",icon:P},{key:"color-picker",icon:P}],D=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={editor:null,brush:null},i.content=function(){return Object(p.jsx)("div",{className:"brushes-container",children:M.map((function(e){return Object(p.jsx)("img",{src:e.icon,className:"brush-icon".concat(i.state.brush.getStyle()===e.key?" brush-selected":""),id:"".concat(e.key,"_brush"),alt:e.key,onClick:function(){var t=i.state.brush.getStyle();document.getElementById("".concat(t,"_brush")).classList.remove("brush-selected"),i.state.brush.setStyle(e.key),document.getElementById("".concat(e.key,"_brush")).classList.add("brush-selected")}},e.key)}))})},i.render=function(){return Object(p.jsx)(z,{id:"brushes_container",content:i.content})},i.state.editor=e.editor,i.state.brush=e.editor.brush,i}return n}(a.a.Component);n(40),n(41);var R=function(e){if(null===e)return console.error("Collapsable div was null.");e.style.maxHeight=e.style.maxHeight?null:e.scrollHeight+"px"};function F(e){return e.content()}var G=function(e){var t=e.id,n=e.content,i=document.getElementById(t);return Object(p.jsxs)("div",{className:"collapsable-container-wrapper",onLoad:function(){var e=document.getElementById(t);e.style.maxHeight=e.scrollHeight+"px"},children:[Object(p.jsx)("div",{className:"collapsable-container-group container-group",id:t,children:Object(p.jsx)(F,{content:n})}),Object(p.jsx)("div",{className:"collapsable-container-group-trigger",onClick:function(){R(i)}})]})},A=(n(42),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={brush:null},i.previewElem=null,i.container=null,i.updatePreview=function(){var e=i.state.brush.getColor();i.previewElem.style.backgroundColor="rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(e.a/255,")")},i.updateRgb=function(){var e=i.state.brush.getColor();["r","g","b","a"].forEach((function(t){document.getElementById("rgb_".concat(t)).value=e[t],document.getElementById("rgb_".concat(t,"_slider")).value=e[t]}))},i.updateHex=function(){var e=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return"".concat(y(e)).concat(y(t)).concat(y(n)).concat(null!==i?y(i):"")}(document.getElementById("rgb_r").value,document.getElementById("rgb_g").value,document.getElementById("rgb_b").value,document.getElementById("rgb_a").value);document.getElementById("hex").value=e},i.fetchDisplayColor=function(){return{r:document.getElementById("rgb_r").value,g:document.getElementById("rgb_g").value,b:document.getElementById("rgb_b").value,a:document.getElementById("rgb_a").value}},i.refresh=function(){i.previewElem=document.getElementById("color_picker_preview"),i.container=document.getElementById("color_picker_controls_container")},i.update=function(){i.updateRgb(),i.updatePreview(),i.updateHex()},i.rgbControls=function(){return Object(p.jsxs)("div",{className:"rgb-container-wrapper",children:[["r","g","b","a"].map((function(e){return Object(p.jsxs)("div",{className:"rgb-input-container",children:[Object(p.jsx)("div",{htmlFor:"rgb_".concat(e),className:"rgb-input-label",children:e.toUpperCase()}),Object(p.jsx)("input",{name:"rgb_".concat(e,"_slider"),id:"rgb_".concat(e,"_slider"),type:"range",min:"0",max:"255",className:"rgb-input-slider",onChange:function(t){document.getElementById("rgb_".concat(e)).value=t.target.value,i.updateColor(i.fetchDisplayColor()),i.updatePreview(),i.updateHex()},defaultValue:"a"===e?255:0},"".concat(e,"_slider")),Object(p.jsx)("input",{name:"rgb_".concat(e),id:"rgb_".concat(e),type:"text",className:"rgb-input-field",placeholder:"0",onChange:function(e){i.updateColor(i.fetchDisplayColor()),i.updatePreview(),i.updateHex()},onKeyPress:function(e){e.key.match(/[0-9]/)||e.preventDefault()},defaultValue:"a"===e?255:""},e)]},"rgb_".concat(e,"_div"))})),Object(p.jsx)("input",{name:"hex",id:"hex",type:"text",className:"hex-input-field",placeholder:"000000ff",onChange:function(e){var t=function(e){switch(e.length){case 0:return{r:0,g:0,b:0,a:255};case 1:return{r:x(e),g:x(e),b:x(e),a:255};case 3:var t=e.split("");return{r:x("".concat(t[0]+t[0])),g:x("".concat(t[1]+t[1])),b:x("".concat(t[2]+t[2])),a:255};case 4:var n=e.split("");return{r:x("".concat(n[0]+n[0])),g:x("".concat(n[1]+n[1])),b:x("".concat(n[2]+n[2])),a:x("".concat(n[3]+n[3]))};case 6:var i=e.split("");return{r:x("".concat(i[0]+i[1])),g:x("".concat(i[2]+i[3])),b:x("".concat(i[4]+i[5]))};case 8:var a=e.split("");return{r:x("".concat(a[0]+a[1])),g:x("".concat(a[2]+a[3])),b:x("".concat(a[4]+a[5])),a:x("".concat(a[6]+a[7]))};default:return{r:0,g:0,b:0,a:255}}}(e.target.value);for(var n in t)document.getElementById("rgb_".concat(n)).value=t[n];i.updateColor(i.fetchDisplayColor()),i.updatePreview()},onKeyPress:function(e){(!e.key.match(/[0-9A-Fa-f]/)||e.target.value.length>=8)&&e.preventDefault()},defaultValue:"000000ff"})]})},i.render=function(){return Object(p.jsxs)("div",{className:"floater-group",children:[Object(p.jsxs)("div",{className:"container-group",id:"color_picker_preview_container",children:[Object(p.jsx)("div",{className:"color-picker-preview",id:"color_picker_preview"}),Object(p.jsx)("div",{className:"brush-size-preview",id:"brush_size_preview"}),Object(p.jsx)("input",{className:"brush-size-input",id:"brush_size_input",type:"text",defaultValue:1,onChange:function(e){i.state.brush.setSize(Number(e.target.value))},onKeyPress:function(e){null===e.key.match(/[0-9]/)&&e.preventDefault()}})]}),Object(p.jsx)(G,{id:"color_picker_container",content:i.rgbControls})]})},i.state.brush=e.brush,i.state.brush.preview=Object(l.a)(i),i.updateColor=e.updateColor.bind(Object(l.a)(i)),i.fetchDisplayColor=i.fetchDisplayColor.bind(Object(l.a)(i)),i}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.refresh(),this.updatePreview()}}]),n}(a.a.Component)),H=n.p+"static/media/eye-open.157d1f69.svg",U=n.p+"static/media/minus.e3517047.svg",V=(n(43),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={layers:null},i.container=null,i.updateActiveLayer=function(e){var t=i.state;document.getElementById("layer_".concat(t.layers.active)).classList.remove("layer-item-selected"),document.getElementById("layer_".concat(e)).classList.add("layer-item-selected"),t.layers.active=e,i.setState(t)},i.updateLayerViewable=function(e){var t=i.state;t.layers.get(e).toggle(),document.getElementById("layer_".concat(e,"_viewable")).classList.toggle("layer-item-viewable"),i.setState(t)},i.layerMovementButtons=function(e,t){return Object(p.jsxs)("div",{className:"layer-item-movement-group",children:[Object(p.jsx)("div",{id:"layer_item_move_up",className:"layer-item-movement-button".concat(0===e?" hidden":""),onClick:function(){var t=i.state;t.layers.move(e,e-1),i.setState(t),i.updateActiveLayer(e-1)},children:"/\\"}),Object(p.jsx)("div",{id:"layer_item_move_down",className:"layer-item-movement-button".concat(e===t?" hidden":""),onClick:function(){var t=i.state;t.layers.move(e,e+1),i.setState(t),i.updateActiveLayer(e+1)},children:"\\/"})]})},i.layerControls=function(){return Object(p.jsxs)("div",{className:"layers-container",children:[i.state.layers.cache.map((function(e,t){return Object(p.jsxs)("div",{className:"layer-item".concat(t===i.state.layers.active?" layer-item-selected":""),id:"layer_".concat(t),onClick:function(e){i.updateActiveLayer(t)},children:[i.layerMovementButtons(t,i.state.layers.cache.length-1),Object(p.jsx)("input",{type:"text",className:"layer-item-title",placeholder:"Layer ".concat(t+1),value:e.name,onChange:function(e){var n=i.state;n.layers.get(t).name=e.target.value,i.setState(n)}}),Object(p.jsx)("img",{src:H,alt:"Hide",className:"layer-item-button",id:"layer_".concat(t,"_viewable"),onClick:function(){i.updateLayerViewable(t)}}),Object(p.jsx)("img",{src:U,alt:"Remove",className:"layer-item-button",onClick:function(){var e=i.state;e.layers=e.layers.remove(t),i.setState(i.state)}})]},t)})),Object(p.jsx)("div",{className:"layer-add-item",onClick:function(){i.state.layers.add(),i.setState(i.state)},children:"Add Layer"})]})},i.render=function(){return Object(p.jsx)("div",{className:"floater-group",children:Object(p.jsx)(G,{id:"layer_container",content:i.layerControls})})},i.state.layers=e.layers,i.updateActiveLayer=i.updateActiveLayer.bind(Object(l.a)(i)),i.updateLayerViewable=i.updateLayerViewable.bind(Object(l.a)(i)),i.layerMovementButtons=i.layerMovementButtons.bind(Object(l.a)(i)),i}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.container=document.getElementById("layers_controls_container")}}]),n}(a.a.Component)),T=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={editor:null,brush:null,layers:null,container:null,origin:null,moving:null},i.content=function(){var e=[{key:"Colors",value:Object(p.jsx)(A,{updateColor:i.updateColor,brush:i.state.brush})},{key:"Layers",value:Object(p.jsx)(V,{layers:i.state.layers})},{key:"Debug",value:Object(p.jsx)("div",{className:"debug",id:"debug"})}];return Object(p.jsx)("ul",{className:"floater-group-list",children:e.map((function(e,t){return Object(p.jsxs)("li",{className:"floater-group",children:[Object(p.jsx)("div",{className:"floater-group-title",children:e.key}),e.value]},e.key)}))})},i.componentDidMount=function(){var e=i.state;e.container=document.getElementById("side_bar_container"),e.origin=e.container.parentElement.getBoundingClientRect(),e.container.style.left="".concat(e.origin.width-e.container.getBoundingClientRect().width,"px"),i.setState(e)},i.render=function(){return Object(p.jsx)(z,{id:"side_bar_container",content:i.content})},i.state.editor=e.editor,i.state.brush=e.editor.brush,i.state.layers=e.editor.layers,i.updateColor=e.updateColor,i}return n}(a.a.Component),J=(n(44),null),K=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).state={app:null,canvas:null,doBoundUpdate:!0,editor:B},e.updateColor=e.updateColor.bind(Object(l.a)(e)),e.fetchBrush=e.fetchBrush.bind(Object(l.a)(e)),e}return Object(s.a)(n,[{key:"getCanvas",value:function(){var e=document.getElementById("texture_editor_wrapper"),t=e.getBoundingClientRect(),n=this.state;n.app=new m.a({width:t.width,height:t.height,backgroundAlpha:1}),n.editor=B.create(n.app,16),n.app.view.oncontextmenu=function(e){e.preventDefault(),e.stopPropagation()},n.app.view.id="editor",n.canvas=n.editor.startup(),e.appendChild(n.canvas),this.setState(n)}},{key:"componentDidMount",value:function(){var e=this;this.getCanvas(),this.state.editor.bounds.update(),document.addEventListener("mousemove",(function(t){v.position.document.x=t.clientX,v.position.document.y=t.clientY,v.position.old={x:Math.floor(v.position.x),y:Math.floor(v.position.y)},v.position.x=Math.floor(t.clientX-e.state.editor.bounds.value.left),v.position.y=Math.floor(t.clientY-e.state.editor.bounds.value.top),v.moving=!0,J&&clearTimeout(J),J=setTimeout((function(){v.position.old={x:Math.floor(v.position.x),y:Math.floor(v.position.y)},v.moving=!1}),30)})),this.state.canvas.addEventListener("mousedown",(function(e){v.button.state=!0,v.button.id=e.button})),this.state.canvas.addEventListener("mouseup",(function(){v.button.state=!1,v.button.id=null})),this.state.canvas.addEventListener("mouseleave",(function(){return v.inBounds=!1})),this.state.canvas.addEventListener("mouseenter",(function(){return v.inBounds=!0})),this.state.canvas.addEventListener("click",(function(){return v.clicked=!0})),window.addEventListener("resize",(function(){return e.state.editor.bounds.update()}))}},{key:"fetchBrush",value:function(){return this.state.editor.brush}},{key:"updateColor",value:function(e){var t=this.state,n=t.editor.brush.getColor();for(var i in e)n[i]=""===e[i]?0:Number(e[i]);t.editor.brush.setColor(n),this.setState(t)}},{key:"render",value:function(){var e=this;return Object(p.jsxs)("div",{className:"editor-container",children:[Object(p.jsx)(L,{editor:this.state.editor}),Object(p.jsxs)("div",{className:"texture-editor-container",id:"texture_editor_container",children:[Object(p.jsx)(D,{editor:this.state.editor}),Object(p.jsx)(T,{editor:this.state.editor,updateColor:this.updateColor}),Object(p.jsx)("div",{className:"texture-editor-wrapper",id:"texture_editor_wrapper",onWheel:function(t){return e.state.editor.zoom(t.deltaY>0)}})]}),Object(p.jsxs)("div",{className:"texture-editor-controls",children:[Object(p.jsx)("label",{htmlFor:"texture-name-input",children:"File name:"}),Object(p.jsx)("input",{type:"text",name:"texture-name-input",id:"image_name",defaultValue:"texture",onKeyPress:function(e){e.key.match(/[\w\d.()]/)||e.preventDefault()}})]})]})}}]),n}(a.a.Component),Y=n(7),X=n.n(Y),W=n(11),q=n(12),Z=n.n(q),Q=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";Object(c.a)(this,e),this.name=t,this.file=n,this.path=i}return Object(s.a)(e,[{key:"values",value:function(){return this.file}}]),e}(),$=function(){function e(t){Object(c.a)(this,e),this.name=t,this.content={}}return Object(s.a)(e,[{key:"addFile",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=new Q(e,t,n);return this.content[e]=i,i}},{key:"getFile",value:function(e){return void 0!==this.content[e]&&void 0===this.content[e].content?this.content[e]:null}},{key:"addDir",value:function(t){var n=new e(t);return this.content[t]=n,n}},{key:"getDir",value:function(e){return void 0!==this.content[e]&&void 0!==this.content[e].content?this.content[e]:null}},{key:"exists",value:function(e){return!!this.content[e]}},{key:"values",value:function(){var e=[];for(var t in this.content)e.push(this.content[t].values());return e}}]),e}();function ee(e,t,n){if(t.content)for(var i in t.content)t.content[i].content?n=ee("".concat(e,"/").concat(i),t.content[i],n):n["".concat(e,"/").concat(i)]=t.content[i].file;return n}var te=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(c.a)(this,e),this.root=null===t?null:new $(t)}return Object(s.a)(e,[{key:"values",value:function(){return this.root.values()}},{key:"compress",value:function(){var e=Object(W.a)(X.a.mark((function e(){var t,n,i;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new Z.a,n=ee(this.root.name,this.root,{}),e.t0=X.a.keys(n);case 3:if((e.t1=e.t0()).done){e.next=13;break}return i=e.t1.value,e.t2=t,e.t3=i,e.next=9,n[i].text();case 9:e.t4=e.sent,e.t2.file.call(e.t2,e.t3,e.t4),e.next=3;break;case 13:return e.abrupt("return",t.generateAsync({type:"blob"}));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setRoot",value:function(e){return this.root=new $(e),this.root}},{key:"fetch",value:function(e){if(null===this.root)return null;var t=e.split("/"),n=this.root;return t.forEach((function(e,i){if(i===t.length-1)return console.log(e,n),void(n=n.getFile(e));n.content?n.exists(e)&&(n=n.getDir(e)):n=null})),n}},{key:"set",value:function(e,t,n){if(null===this.root)return null;var i=e.split("/"),a=this.root;return i.forEach((function(e){null!==a&&a.exists(e)&&(a=a.getDir(e))})),a.addFile(t,n)}}]),e}(),ne=(n(50),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={content:e.content},i}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=[];this.state.content.forEach((function(t){return e.push(document.getElementById(t.id))})),document.addEventListener("click",(function(t){e.forEach((function(e){e.parentElement.contains(t.target)||e.classList.add("hidden")}))}))}},{key:"render",value:function(){return Object(p.jsx)("div",{className:"texture-editor-ribbon",children:this.state.content.map((function(e){return Object(p.jsxs)("div",{className:"ribbon-menu",children:[Object(p.jsx)("div",{className:"ribbon-menu-button",onClick:function(){document.getElementById(e.id).classList.toggle("hidden")},children:e.key}),e.value]},e.key)}))})}}]),n}(a.a.Component)),ie=(n(51),n(22));n(52);var ae={file:null,path:"",text:""};function oe(e){return Object(p.jsx)("li",{id:e.name,className:"file-explorer-list-item file-explorer-file-label",title:"".concat(e.name," | Size: ").concat(e.file.size," bytes."),onClick:function(){e.file.text().then((function(t){var n=document.getElementById("txtArea");""===n.value||null===ae.file||n.value===ae.text?(n.value=t,ae.file=e.file,ae.path=e.path,ae.text=t.replace(/\r\n/g,"\n")):console.log("Unsaved changes.")})).catch((function(e){return console.error(e)}))},children:e.name})}function re(e){if(null!==e){if(e.content){var t=[];for(var n in e.content)e.content[n].content?function(){var i=Object(ie.uniqueId)();t.push(Object(p.jsxs)("li",{className:"file-explorer-list-item",children:[Object(p.jsx)("div",{className:"file-explorer-dir-label",onClick:function(){document.getElementById(i).classList.toggle("hidden")},children:n}),Object(p.jsx)("div",{id:i,className:"file-explorer-dir-group hidden",children:re(e.content[n])})]}))}():t.push(oe(e.content[n]));return Object(p.jsx)("ul",{className:"file-explorer-list",children:t.map((function(e){return e}))})}return Object(p.jsx)("li",{className:"file-explorer-list-item",children:oe(e)})}}var ce=function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={archive:new te,buttons:[{key:"File",id:"mod_builder_file_menu",value:Object(p.jsx)(E,{content:[Object(p.jsx)("div",{className:"menu-button",onClick:function(){var e,t,n,a=i.state;a.archive.setRoot("My_Mod"),(e="1.16.5",t="36.2.5",n=a.archive,new Promise((function(i,a){(function(e,t){return new Promise((function(n,i){fetch("https://maven.minecraftforge.net/net/minecraftforge/forge/".concat(e,"-").concat(t,"/forge-").concat(e,"-").concat(t,"-mdk.zip")).then((function(e){var t=new Z.a;e.blob().then((function(e){t.loadAsync(e).then((function(e){return n(e)})).catch((function(e){return i(e)}))})).catch((function(e){return i(e)}))})).catch((function(e){return i(e)}))}))})(e,t).then(function(){var e=Object(W.a)(X.a.mark((function e(t){var a,o,r,c,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=X.a.keys(t.files);case 1:if((e.t1=e.t0()).done){e.next=22;break}if(a=e.t1.value,o=n.root,r=t.file(a),c=a.split("/"),""===(s=c.pop())){e.next=20;break}return c.forEach((function(e){null===o?(n.root=new $(e),o=n.root):o=o.exists(e)?o.getDir(e):o.addDir(e)})),e.t2=o,e.t3=s,e.t4=File,e.next=14,r.async("blob");case 14:e.t5=e.sent,e.t6=[e.t5],e.t7=s,e.t8=new e.t4(e.t6,e.t7),e.t9=c.join("/"),e.t2.addFile.call(e.t2,e.t3,e.t8,e.t9);case 20:e.next=1;break;case 22:i(n);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return a(e)}))}))).then((function(e){a.archive=e,i.setState(a)})).catch((function(e){return console.error(e)}))},children:"New Project"}),Object(p.jsxs)("div",{children:[Object(p.jsx)("input",{type:"file",id:"zip_input",name:"zip_input",accept:".zip"}),Object(p.jsx)("button",{className:"menu-button",onClick:function(){var e=document.getElementById("zip_input").files;if(1===e.length){var t=new Z.a,n=i.state,a=e.item(0).name;n.archive.setRoot(a.slice(0,a.length-4)),function(e,t,n){return new Promise((function(i,a){e.loadAsync(n).then(function(){var e=Object(W.a)(X.a.mark((function e(n){var a,o,r,c,s;return X.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=X.a.keys(n.files);case 1:if((e.t1=e.t0()).done){e.next=22;break}if(a=e.t1.value,o=t.root,r=n.file(a),c=a.split("/"),""===(s=c.pop())){e.next=20;break}return c.forEach((function(e){null===o?(t.root=new $(e),o=t.root):o=o.exists(e)?o.getDir(e):o.addDir(e)})),e.t2=o,e.t3=s,e.t4=File,e.next=14,r.async("blob");case 14:e.t5=e.sent,e.t6=[e.t5],e.t7=s,e.t8=new e.t4(e.t6,e.t7),e.t9=c.join("/"),e.t2.addFile.call(e.t2,e.t3,e.t8,e.t9);case 20:e.next=1;break;case 22:i(t);case 23:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return a(e)}))}))}(t,n.archive,e.item(0)).then((function(e){n.archive=e,i.setState(n)})).catch((function(e){return console.error(e)}))}else console.log("No file selected.")},children:"Open Project"})]}),Object(p.jsx)("div",{className:"menu-button",onClick:function(){var e=i.state;e.archive=se(e.archive),i.setState(e)},children:"Save File"}),Object(p.jsx)("div",{className:"menu-button",onClick:function(){var e;(e=i.state.archive).compress().then((function(t){!function(e,t){var n=window.URL.createObjectURL(t),i=document.getElementById("download_link");i.href=n,i.setAttribute("download",e),i.click()}(e.root.name+".zip",t)})).catch((function(e){return console.error(e)}))},children:"Download"})],id:"mod_builder_file_menu",hidden:!0})}]},i}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=document.getElementById("sect_main");document.getElementById("sect_file_explorer").style.maxHeight="".concat(e.clientHeight,"px")}},{key:"render",value:function(){var e=this;return Object(p.jsx)("div",{className:"mod-builder-sect",children:Object(p.jsxs)("div",{className:"sect-container",children:[Object(p.jsx)("div",{className:"nav-wrapper",children:Object(p.jsx)(ne,{content:this.state.buttons})}),Object(p.jsxs)("div",{id:"sect_main",className:"sect-main",children:[Object(p.jsx)("div",{className:"sect-file-explorer",id:"sect_file_explorer",children:Object(p.jsx)("div",{className:"sect-file-explorer-list",id:"sect_file_explorer_list",children:re(this.state.archive.root)})}),Object(p.jsxs)("div",{className:"sect-text-area",children:[Object(p.jsx)("textarea",{id:"txtArea",onChange:function(e){null!==ae.file&&e.target.value!==ae.text?(document.getElementById("editor_save_button").classList.add("icon-active"),document.getElementById("editor_discard_button").classList.add("icon-active")):e.target.value===ae.text&&(document.getElementById("editor_save_button").classList.remove("icon-active"),document.getElementById("editor_discard_button").classList.remove("icon-active"))}}),Object(p.jsxs)("div",{className:"text-area-toolbar",children:[Object(p.jsx)("i",{id:"editor_save_button",className:"icon bi-save editor-toolbar-icon",title:"Save",onClick:function(){var t=e.state;t.archive=se(t.archive),e.setState(t)}}),Object(p.jsx)("i",{id:"editor_discard_button",className:"icon bi-x-circle editor-toolbar-icon",title:"Discard changes",onClick:function(){return document.getElementById("txtArea").value=ae.text,document.getElementById("editor_save_button").classList.remove("icon-active"),void document.getElementById("editor_discard_button").classList.remove("icon-active")}})]})]})]})]})})}}]),n}(a.a.Component);function se(e){var t=document.getElementById("txtArea"),n=e.set(ae.path,ae.file.name,new File([t.value],ae.file.name,{type:ae.file.type}));return ae.file=n.file,ae.path=n.path,ae.text=t.value,document.getElementById("editor_save_button").classList.remove("icon-active"),document.getElementById("editor_discard_button").classList.remove("icon-active"),e}n(53);var le=function(){return Object(p.jsxs)("div",{className:"App",children:[Object(p.jsx)("div",{id:"sect_paint",className:"primary-sect hidden",children:Object(p.jsx)(K,{})}),Object(p.jsx)("div",{id:"sect_config",className:"primary-sect hidden",children:Object(p.jsx)(f,{})}),Object(p.jsx)("div",{id:"sect_builder",className:"primary-sect",children:Object(p.jsx)(ce,{})})]})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,o=t.getLCP,r=t.getTTFB;n(e),i(e),a(e),o(e),r(e)}))},de=(n(54),function(e){Object(u.a)(n,e);var t=Object(d.a)(n);function n(e){var i;return Object(c.a)(this,n),(i=t.call(this,e)).state={buttons:e.buttons||[]},i}return Object(s.a)(n,[{key:"render",value:function(){return Object(p.jsx)("ul",{className:"nav-bar",children:this.state.buttons.map((function(e,t){return Object(p.jsx)("li",{className:"nav-bar-button",id:e.id+"_btn",onClick:function(t){e.action(t)},children:e.value},t)}))})}}]),n}(a.a.Component));n(55),n(56);function he(e){var t;be.forEach((function(n){t=document.getElementById(n.id),n.id===e?t.classList.remove("hidden"):t.classList.add("hidden")}))}var be=[{value:Object(p.jsx)("div",{children:"Paint"}),id:"sect_paint",action:function(e){he("sect_paint")}},{value:Object(p.jsx)("div",{children:"Builder"}),id:"sect_builder",action:function(e){he("sect_builder")}},{value:Object(p.jsx)("div",{children:"Config"}),id:"sect_config",action:function(e){he("sect_config")}}];r.a.render(Object(p.jsxs)(a.a.StrictMode,{children:[Object(p.jsx)("header",{children:Object(p.jsx)(de,{buttons:be})}),Object(p.jsx)("main",{children:Object(p.jsx)(le,{})}),Object(p.jsxs)("footer",{children:[Object(p.jsx)("div",{children:"Built by ChrisOfNormandy."}),Object(p.jsxs)("div",{children:["Join ",Object(p.jsx)("a",{href:"https://discord.gg/EW5JsGJfdt",children:"Discord"})]})]})]}),document.getElementById("root")),ue()}},[[57,1,2]]]);
//# sourceMappingURL=main.e05938a6.chunk.js.map